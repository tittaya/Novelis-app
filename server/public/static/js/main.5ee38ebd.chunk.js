(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{272:function(e,t,n){},306:function(e,t,n){},381:function(e,t,n){},415:function(e,t,n){},542:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(0),c=n.n(r),i=n(32),o=n.n(i),s=(n(381),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,663)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))}),l=n(25),d=n(24),j=n(602),u=n(648),b=n(649),O=n(647),h=n(555),p=n(629),m=n(337),x=n(182),f=n.n(x),g=n(633),v=n(634),_=n(181),y=n.n(_),S=Object(r.createContext)({currentUser:null,isAuth:!1,userProjects:null,currentProject:null}),C=n(131),I=n.n(C),D=n(1);function E(){var e=Object(r.useContext)(S).state.currentUser,t=c.a.useState(null),n=Object(a.a)(t,2),i=n[0],o=n[1],s=c.a.useState(null),d=Object(a.a)(s,2),x=d[0],_=d[1],I=Boolean(i),E=Boolean(x),w=function(e){o(e.currentTarget)},k=function(){_(null)},T=function(){o(null),k()},R=Object(r.useContext)(S).dispatch,$="primary-search-account-menu",P=Object(D.jsxs)(m.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:$,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:I,onClose:T,children:[Object(D.jsx)(p.a,{onClick:T,children:"Profile"}),Object(D.jsx)(p.a,{children:Object(D.jsx)(C.GoogleLogout,{buttonText:"Logout",onLogoutSuccess:function(){R({type:"LOGOUT_USER"}),console.log("Logged out")}})})]}),W="primary-search-account-menu-mobile",F=Object(D.jsx)(m.a,{anchorEl:x,anchorOrigin:{vertical:"top",horizontal:"right"},id:W,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:E,onClose:k,children:Object(D.jsx)(p.a,{onClick:w,children:Object(D.jsx)(g.a,{title:"Open settings",children:Object(D.jsx)(O.a,{sx:{p:0},children:e&&Object(D.jsx)(v.a,{alt:"Remy Sharp",src:e.picture})})})})});return Object(D.jsxs)(j.a,{sx:{flexGrow:1},children:[Object(D.jsx)(u.a,{position:"static",style:{background:"#967969"},children:Object(D.jsxs)(b.a,{children:[Object(D.jsx)(O.a,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",sx:{mr:2},component:l.b,to:"/main-project",children:Object(D.jsx)(y.a,{})}),Object(D.jsx)(h.a,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},children:"Novelis"}),Object(D.jsx)(j.a,{sx:{flexGrow:1}}),Object(D.jsx)(j.a,{sx:{display:{xs:"none",md:"flex"}},children:Object(D.jsx)(O.a,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":$,"aria-haspopup":"true",onClick:w,color:"inherit",children:e&&Object(D.jsx)(v.a,{alt:"Remy Sharp",src:e.picture})})}),Object(D.jsx)(j.a,{sx:{display:{xs:"flex",md:"none"}},children:Object(D.jsx)(O.a,{size:"large","aria-label":"show more","aria-controls":W,"aria-haspopup":"true",onClick:function(e){_(e.currentTarget)},color:"inherit",children:Object(D.jsx)(f.a,{})})})]})}),F,P]})}var w=n(640),k=n(246),T=n(637),R=n(27),$=n(623),P=n(17),W=n(13),F=n.n(W),L=n(19),A=n(632),q=n(650),N=n(652),B=n(651),U=n(636),H=n(655),K=n(619),V=n(605),G=n(604),z=n(641),M=n(183);n(40).config();var Q,J,Y,X,Z,ee,te,ne,ae,re,ce,ie,oe,se,le,de,je,ue,be,Oe,he,pe,me="<insert-production-url",xe=function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){var e=window.gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().id_token;c(e)}),[]),new M.GraphQLClient(me,{headers:{authorization:n}})},fe=n(28),ge=n(33),ve=Object(ge.a)(Q||(Q=Object(fe.a)(["\n  {\n    me {\n      _id\n      name\n      email\n      picture\n    }\n  }\n"]))),_e=(Object(ge.a)(J||(J=Object(fe.a)(["\n  {\n      getProjects {\n          _id\n          title\n          author\n          summary\n          creator {\n              _id\n              name\n              email\n              picture\n          }\n      }\n  }\n"]))),Object(ge.a)(Y||(Y=Object(fe.a)(["\n  query($creator: ID!, $version: Boolean){\n      Projects(creator: $creator, version: $version){\n        _id\n        title\n        image\n        author\n        created_date\n        last_edited\n        old_id\n        version\n        summary\n        creator {\n            _id\n            name\n            email\n            picture\n        }\n        chapters {\n            _id\n            name\n            order\n            characters\n            last_edited\n            content\n        }\n        characters {\n            _id\n            name\n            last_edited\n            display_name\n            DOB \n            biography\n            uniqueness\n        }\n        timelines {\n            _id\n            name\n            characters\n            last_edited\n            box {\n                _id\n                id\n                name\n                date\n                event\n                character\n                last_edited\n            }\n        }\n        maps {\n            _id\n            name\n            characters\n            last_edited\n            content\n        }\n      }\n  }\n"])))),ye=Object(ge.a)(X||(X=Object(fe.a)(["\n  query($_id: ID!){\n      selectedProject(_id: $_id){\n        _id\n        title\n        image\n        author\n        created_date\n        last_edited\n        old_id\n        version\n        summary\n        creator {\n            _id\n            name\n            email\n            picture\n        }\n        chapters {\n            _id\n            name\n            order\n            characters\n            last_edited\n            content\n        }\n        characters {\n            _id\n            name\n            image\n            last_edited\n            display_name\n            DOB \n            biography\n            uniqueness\n        }\n        timelines {\n            _id\n            name\n            characters\n            last_edited\n            box {\n                _id\n                id\n                name\n                date\n                event\n                character\n                last_edited\n            }\n        }\n        maps {\n            _id\n            name\n            characters\n            last_edited\n            content\n        }\n      }\n  }\n"]))),Se=(Object(ge.a)(Z||(Z=Object(fe.a)(["\n    query($_id: ID!, $characterId: ID!){\n        selectedProject(_id: $_id){\n            _id\n            title\n            image\n            author\n            created_date\n            last_edited\n            version\n            old_id\n            summary\n            creator {\n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters (filter: { _id: $characterId }) {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"]))),Object(ge.a)(ee||(ee=Object(fe.a)(["\n    mutation($title: String!, $image: String, $author: String!, $summary: String){\n        createProject(input: { title: $title, image: $image, author: $author, summary: $summary }) {\n            _id\n            title\n            image\n            author\n            last_edited\n            version\n            old_id\n            summary\n            creator { \n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"])))),Ce=Object(ge.a)(te||(te=Object(fe.a)(["\n    mutation($projectId: ID, $title: String, $author: String, $summary: String){\n        updateProject(projectId: $projectId, title: $title, author: $author,summary: $summary){\n            _id\n            title\n            image\n            author\n            last_edited\n            version\n            old_id\n            summary\n            creator { \n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"]))),Ie=Object(ge.a)(ne||(ne=Object(fe.a)(["\n    mutation($projectId: ID, $image: String){\n        updateProjectImage(projectId: $projectId, image: $image){\n            _id\n            title\n            image\n            author\n            last_edited\n            version\n            old_id\n            summary\n            creator { \n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"]))),De=Object(ge.a)(ae||(ae=Object(fe.a)(["\n    mutation($projectId: ID, $creator: ID){\n        deleteProject(projectId: $projectId, creator: $creator) {\n            _id\n            title\n            image\n            author\n            last_edited\n            version\n            old_id\n            summary\n            creator { \n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"]))),Ee=Object(ge.a)(re||(re=Object(fe.a)(["\n  mutation($projectId: ID, $name: String!, $display_name: String, $image: String, $dob: String, $biography: String, $uniqueness: [String]){\n    createCharacter(projectId: $projectId, name: $name, image: $image, display_name: $display_name, dob: $dob, biography: $biography, uniqueness: $uniqueness){\n        _id\n        title\n        image\n        author\n        last_edited\n        version\n        old_id\n        summary\n        creator { \n            _id\n            name\n            email\n            picture\n        }\n        chapters {\n            _id\n            name\n            order\n            characters\n            last_edited\n            content\n        }\n        characters {\n            _id\n            name\n            image\n            last_edited\n            display_name\n            DOB \n            biography\n            uniqueness\n        }\n        timelines {\n            _id\n            name\n            characters\n            last_edited\n            box {\n                _id\n                id\n                name\n                date\n                event\n                character\n                last_edited\n            }\n        }\n        maps {\n            _id\n            name\n            characters\n            last_edited\n            content\n        }\n    }\n  }\n"]))),we=Object(ge.a)(ce||(ce=Object(fe.a)(["\nmutation($projectId: ID, $characterId: ID, $name: String!, $display_name: String, $dob: String, $biography: String){\n    updateCharacter(projectId: $projectId, characterId: $characterId, name: $name display_name: $display_name, dob: $dob, biography: $biography){\n        _id\n        title\n        image\n        author\n        last_edited\n        version\n        old_id\n        summary\n        creator { \n            _id\n            name\n            email\n            picture\n        }\n        chapters {\n            _id\n            name\n            order\n            characters\n            last_edited\n            content\n        }\n        characters {\n            _id\n            name\n            image\n            last_edited\n            display_name\n            DOB \n            biography\n            uniqueness\n        }\n        timelines {\n            _id\n            name\n            characters\n            last_edited\n            box {\n                _id\n                id\n                name\n                date\n                event\n                character\n                last_edited\n            }\n        }\n        maps {\n            _id\n            name\n            characters\n            last_edited\n            content\n        }\n    }\n  }\n"]))),ke=Object(ge.a)(ie||(ie=Object(fe.a)(["\n    mutation($projectId: ID, $characterId: ID, $image: String){\n        updateCharacterImage(projectId: $projectId, characterId: $characterId, image: $image){\n            _id\n            title\n            image\n            author\n            last_edited\n            version\n            old_id\n            summary\n            creator { \n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"]))),Te=Object(ge.a)(oe||(oe=Object(fe.a)(["\n    mutation($projectId: ID, $characterId: ID){\n        deleteCharacter(projectId: $projectId, characterId: $characterId) {\n            _id\n            title\n            image\n            author\n            last_edited\n            version\n            old_id\n            summary\n            creator { \n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"]))),Re=Object(ge.a)(se||(se=Object(fe.a)(["\n    mutation($projectId: ID, $name: String, $characters: String, $box: [BoxInput]){\n        createNewTimeline(projectId: $projectId, name: $name, characters: $characters, box: $box){\n            _id\n            title\n            image\n            author\n            last_edited\n            version\n            old_id\n            summary\n            creator { \n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"]))),$e=Object(ge.a)(le||(le=Object(fe.a)(["\n    mutation($projectId: ID, $timelineId: ID, $id: String, $name: String, $date: String, $event: String, $character: String){\n        createTimelineBox(projectId: $projectId, timelineId: $timelineId, id: $id, name: $name, date: $date, event: $event, character: $character){\n            _id\n            title\n            image\n            author\n            last_edited\n            version\n            old_id\n            summary\n            creator { \n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"]))),Pe=Object(ge.a)(de||(de=Object(fe.a)(["\n    mutation($projectId: ID, $timelineId: ID, $name: String, $characters: String, $box: [BoxInput]){\n        updateTimeline(projectId: $projectId, timelineId: $timelineId, name: $name, characters: $characters, box: $box){\n            _id\n            title\n            image\n            author\n            last_edited\n            version\n            old_id\n            summary\n            creator { \n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"]))),We=Object(ge.a)(je||(je=Object(fe.a)(["\n    mutation($projectId: ID, $timelineId: ID){\n        deleteTimeline(projectId: $projectId, timelineId: $timelineId) {\n            _id\n            title\n            image\n            author\n            last_edited\n            version\n            old_id\n            summary\n            creator { \n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"]))),Fe=Object(ge.a)(ue||(ue=Object(fe.a)(["\n    mutation($projectId: ID, $number: Int){\n        saveVersion(projectId: $projectId, number: $number){\n            _id\n            title\n            image\n            author\n            last_edited\n            version\n            old_id\n            summary\n            creator { \n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"]))),Le=Object(ge.a)(be||(be=Object(fe.a)(["\n    mutation($projectId: ID, $newId: ID){\n        setVersion(projectId: $projectId, newId: $newId){\n            _id\n            title\n            image\n            author\n            last_edited\n            version\n            old_id\n            summary\n            creator { \n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"]))),Ae=Object(ge.a)(Oe||(Oe=Object(fe.a)(["\n    mutation($projectId: ID, $order: Int, $name: String, $characters: String, $content: String){\n        createChapter(projectId: $projectId, order: $order, name: $name, characters: $characters, content: $content){\n            _id\n            title\n            image\n            author\n            last_edited\n            version\n            old_id\n            summary\n            creator { \n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"]))),qe=Object(ge.a)(he||(he=Object(fe.a)(["\n    mutation($projectId: ID, $chapterId: ID){\n        deleteChapter(projectId: $projectId, chapterId: $chapterId) {\n            _id\n            title\n            image\n            author\n            last_edited\n            version\n            old_id\n            summary\n            creator { \n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"]))),Ne=Object(ge.a)(pe||(pe=Object(fe.a)(["\n    mutation($projectId: ID, $name: String, $characters: String){\n        createMap(projectId: $projectId, name: $name, characters: $characters){\n            _id\n            title\n            image\n            author\n            last_edited\n            version\n            old_id\n            summary\n            creator { \n                _id\n                name\n                email\n                picture\n            }\n            chapters {\n                _id\n                name\n                order\n                characters\n                last_edited\n                content\n            }\n            characters {\n                _id\n                name\n                last_edited\n                display_name\n                DOB \n                biography\n                uniqueness\n            }\n            timelines {\n                _id\n                name\n                characters\n                last_edited\n                box {\n                    _id\n                    id\n                    name\n                    date\n                    event\n                    character\n                    last_edited\n                }\n            }\n            maps {\n                _id\n                name\n                characters\n                last_edited\n                content\n            }\n        }\n    }\n"]))),Be=n(551),Ue=n(606);function He(e){var t=e.confirmDialog,n=e.setConfirmDialog;return Object(D.jsxs)(K.a,{open:t.isOpen,children:[Object(D.jsx)(G.a,{}),Object(D.jsxs)(V.a,{children:[Object(D.jsx)(Be.a,{variant:"h6",children:t.title}),Object(D.jsx)(Be.a,{variant:"subtitle2",children:t.subTitle})]}),Object(D.jsxs)(Ue.a,{children:[Object(D.jsx)(U.a,{onClick:function(){return n(Object(P.a)(Object(P.a)({},t),{},{isOpen:!1}))},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),Object(D.jsx)(U.a,{onClick:t.onConfirm,children:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19"})]})]})}var Ke=n(103),Ve=n.n(Ke),Ge=n(318),ze=n.n(Ge);var Me=function(){var e=Object(r.useState)(!1),t=Object(a.a)(e,2),n=t[0],c=t[1],i=function(){c(!1)},o=Object(d.h)(),s=xe(),l=Object(r.useContext)(S),u=l.state,b=l.dispatch,O=u.currentUser,p=Object(r.useState)([]),m=Object(a.a)(p,2),x=m[0],f=m[1],g=Object(r.useState)({isOpen:!1,title:"",subTitle:""}),v=Object(a.a)(g,2),_=v[0],y=v[1],C=function(){var e=Object(L.a)(F.a.mark((function e(){var t,n,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O._id,n={creator:t,version:!1},e.next=4,s.request(_e,n);case 4:(a=e.sent)?(f(a.Projects),b({type:"GET_USER_PROJECTS",payload:a})):console.log("can't find projects");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(L.a)(F.a.mark((function e(t){var n,a,r,c,i,o,l,d,j;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(Object(P.a)(Object(P.a)({},_),{},{isOpen:!1})),n=O._id,a={creator:n,version:!0},e.next=5,s.request(_e,a);case 5:if(r=e.sent,!(c=r.Projects.filter((function(e){return e.old_id===t})))){e.next=17;break}return console.log(c),i=c.length,o={projectId:t,number:i},e.next=13,s.request(Fe,o);case 13:l=e.sent,console.log("save version added",l),e.next=23;break;case 17:return console.log("This project only have 1 versions"),d={projectId:t,number:1},e.next=21,s.request(Fe,d);case 21:j=e.sent,console.log("save version added",j);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(L.a)(F.a.mark((function e(t){var n,a,r,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(Object(P.a)(Object(P.a)({},_),{},{isOpen:!1})),n=t,a=O._id,r={projectId:n,creator:a},e.next=6,s.request(De,r);case 6:(c=e.sent)?(console.log(c),C()):console.log("error deleting project");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){C()}),[]);var k=function(){var e=Object(L.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o("/myproject"),localStorage.setItem("projectId",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(L.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o("/versionmenu"),localStorage.setItem("projectId",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)("div",{children:[Object(D.jsx)(j.a,{sx:{bgcolor:"background.paper",pt:8,pb:6},children:Object(D.jsxs)(w.a,{maxWidth:"sm",children:[Object(D.jsx)(h.a,{variant:"h3",align:"center",color:"text.primary",children:"\u0e04\u0e25\u0e31\u0e07\u0e1c\u0e25\u0e07\u0e32\u0e19"}),Object(D.jsxs)(h.a,{variant:"h5",align:"center",color:"text.secondary",paragraph:!0,children:["\u0e04\u0e38\u0e13\u0e21\u0e35\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14 ",x.length," \u0e1c\u0e25\u0e07\u0e32\u0e19"]})]})}),Object(D.jsx)(A.a,{container:!0,spacing:3,children:x.map((function(e){var t=e.last_edited,a=t.slice(8,10),r=t.slice(4,7).toLowerCase(),c=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(r)+1,o=a+"/"+(c<10?"0"+c:c)+"/"+t.slice(11,15);return Object(D.jsxs)(A.a,{item:!0,xs:12,sm:6,md:4,children:[Object(D.jsxs)(K.a,{open:n,onClose:i,children:[Object(D.jsx)(G.a,{children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08"}),Object(D.jsx)(V.a,{children:"\u0e40\u0e27\u0e25\u0e32\u0e17\u0e35\u0e48\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01 : 26/02/2022"}),Object(D.jsx)(z.a,{children:Object(D.jsx)(U.a,{onClick:i,children:"\u0e1b\u0e34\u0e14"})})]}),Object(D.jsxs)(q.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(D.jsxs)(H.a,{onClick:function(){return k(e._id)},children:[Object(D.jsx)(B.a,{component:"img",height:"120",sx:{},image:e.image}),Object(D.jsxs)(N.a,{sx:{flexGrow:1},children:[Object(D.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title}),Object(D.jsxs)(h.a,{children:["\u0e41\u0e01\u0e49\u0e44\u0e02\u0e25\u0e48\u0e32\u0e2a\u0e38\u0e14\u0e40\u0e21\u0e37\u0e48\u0e2d: ",o]})]})]}),Object(D.jsxs)(j.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[Object(D.jsx)(U.a,{size:"large",onClick:function(){y({isOpen:!0,title:"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e1c\u0e25\u0e07\u0e32\u0e19\u0e19\u0e35\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48",subTitle:"",onConfirm:function(){E(e._id)}})},children:"X"}),Object(D.jsx)(U.a,{size:"large",onClick:function(){y({isOpen:!0,title:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e40\u0e27\u0e2d\u0e23\u0e4c\u0e0a\u0e31\u0e48\u0e19\u0e25\u0e48\u0e32\u0e2a\u0e38\u0e14\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48",subTitle:"",onConfirm:function(){I(e._id)}})},children:Object(D.jsx)(Ve.a,{})}),Object(D.jsx)(U.a,{size:"large",onClick:function(){return T(e._id)},children:Object(D.jsx)(ze.a,{})})]}),Object(D.jsx)(He,{confirmDialog:_,setConfirmDialog:y})]})]},e._id)}))})]})},Qe=n(36),Je=n.n(Qe),Ye=n(642);function Xe(){return Object(D.jsx)(Ye.a,{color:"primary",variant:"contained",style:{backgroundColor:"#967969",color:"#FFFFFF",alignSelf:"flex-end",position:"fixed",bottom:"5%",right:"8%"},component:l.b,to:"/create-project",children:Object(D.jsx)(Je.a,{})})}n(40).config();var Ze=new R.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URI}),et=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});function tt(){return Object(D.jsx)($.a,{client:Ze,children:Object(D.jsxs)(T.a,{theme:et,children:[Object(D.jsx)(E,{}),Object(D.jsxs)("main",{children:[Object(D.jsx)(j.a,{sx:{bgcolor:"background.paper",pb:6},children:Object(D.jsx)(w.a,{maxWidth:"md",children:Object(D.jsx)(Me,{})})}),Object(D.jsx)(j.a,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"20vh",children:Object(D.jsx)(Xe,{})})]})]})})}var nt=n(609),at=n(63),rt=n.n(at),ct=n(630),it=n(135),ot=n.n(it),st=n(657),lt=n(625),dt=n(638),jt=n(81);n(40).config();var ut=Object(k.b)();var bt=function(){var e=Object(d.h)(),t=xe(),n=Object(r.useContext)(S).dispatch,c=Object(r.useState)(""),i=Object(a.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)(""),j=Object(a.a)(l,2),u=j[0],b=j[1],O=Object(r.useState)(""),p=Object(a.a)(O,2),m=p[0],x=p[1],f=Object(r.useState)(""),g=Object(a.a)(f,2),v=g[0],_=g[1],y=Object(r.useState)(!1),C=Object(a.a)(y,2),I=C[0],E=C[1],k=function(){var e=Object(L.a)(F.a.mark((function e(){var t,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",u),t.append("upload_preset","Novelis"),t.append("cloud_name","myimagevideocloud"),e.next=6,rt.a.post(jt.CLOUDINARY_URL,t);case 6:return n=e.sent,e.abrupt("return",n.data.url);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var a=Object(L.a)(F.a.mark((function a(r){var c,i,s,l;return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r.preventDefault(),E(!0),a.next=5,k();case 5:return c=a.sent,console.log({title:o,image:u,url:c,author:m,summary:v}),i={title:o,image:c,author:m,summary:v},a.next=10,t.request(Se,i);case 10:s=a.sent,l=s.createProject,n({type:"CREATE_PROJECT",payload:l}),console.log("Project created",{createProject:l}),E(!1),!1===I&&e("/main-project"),a.next=22;break;case 18:a.prev=18,a.t0=a.catch(0),E(!1),console.log("Error creating project",a.t0);case 22:case"end":return a.stop()}}),a,null,[[0,18]])})));return function(e){return a.apply(this,arguments)}}();return Object(D.jsx)("form",{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:Object(D.jsx)(T.a,{theme:ut,children:Object(D.jsx)(w.a,{component:"main",maxWidth:"sm",sx:{mb:4},children:Object(D.jsxs)(dt.a,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[Object(D.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:"\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e1c\u0e25\u0e07\u0e32\u0e19"}),Object(D.jsxs)(A.a,{container:!0,spacing:3,children:[Object(D.jsxs)(A.a,{item:!0,xs:12,children:[Object(D.jsx)(h.a,{variant:"subtitle2",gutterBottom:!0,children:"\u0e43\u0e2a\u0e48\u0e23\u0e39\u0e1b\u0e2b\u0e19\u0e49\u0e32\u0e1b\u0e01\u0e1c\u0e25\u0e07\u0e32\u0e19 *"}),Object(D.jsx)("input",{accept:"imge/*",type:"file",onChange:function(e){return b(e.target.files[0])}})]}),Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(ct.a,{required:!0,name:"title",id:"title",label:"\u0e0a\u0e37\u0e48\u0e2d\u0e1c\u0e25\u0e07\u0e32\u0e19",fullWidth:!0,variant:"standard",onChange:function(e){return s(e.target.value)}})}),Object(D.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(D.jsx)(ct.a,{required:!0,id:"author",name:"author",label:"\u0e19\u0e32\u0e21\u0e1b\u0e32\u0e01\u0e01\u0e32",fullWidth:!0,autoComplete:"family-name",variant:"standard",onChange:function(e){return x(e.target.value)}})}),Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(ct.a,{id:"summary",name:"summary",label:"\u0e40\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e22\u0e48\u0e2d",type:"passtextword",fullWidth:!0,variant:"standard",onChange:function(e){return _(e.target.value)}})}),Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(st.a,{control:Object(D.jsx)(lt.a,{color:"secondary",name:"saveAddress",value:"yes"}),label:"\u0e2d\u0e22\u0e39\u0e48\u0e23\u0e30\u0e2b\u0e27\u0e48\u0e32\u0e07\u0e41\u0e01\u0e49\u0e44\u0e02"})})]}),Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(ot.a,{}),onClick:R,disabled:!o.trim()||!m.trim()||!u||I,children:"\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e1c\u0e25\u0e07\u0e32\u0e19"})]})})})})};n(40).config();var Ot=new R.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URI});var ht=function(){return Object(D.jsxs)(nt.a,{client:Ot,children:[Object(D.jsx)(E,{}),Object(D.jsx)(bt,{})]})},pt=n(610),mt=n(644),xt=n(645),ft=n(323),gt=n.n(ft),vt=n(190),_t=n.n(vt),yt=n(191),St=n.n(yt),Ct=n(192),It=n.n(Ct),Dt=n(193),Et=n.n(Dt);var wt=function(){var e=window.location.pathname,t=r.useState(e),n=Object(a.a)(t,2),c=n[0],i=n[1];return Object(D.jsxs)(j.a,{sx:{pb:7},children:[Object(D.jsx)(pt.a,{}),Object(D.jsx)(dt.a,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:Object(D.jsxs)(mt.a,{value:c,onChange:function(e,t){i(t)},showLabels:!0,children:[Object(D.jsx)(xt.a,{label:"\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",value:"/mycharacter",icon:Object(D.jsx)(_t.a,{}),component:l.b,to:"/mycharacter"}),Object(D.jsx)(xt.a,{label:"\u0e41\u0e1c\u0e19\u0e1c\u0e31\u0e07",value:"/mymap",icon:Object(D.jsx)(St.a,{}),component:l.b,to:"/mymap"}),Object(D.jsx)(xt.a,{label:"\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01",value:"/myproject",icon:Object(D.jsx)(gt.a,{}),component:l.b,to:"/myproject"}),Object(D.jsx)(xt.a,{label:"\u0e44\u0e17\u0e21\u0e4c\u0e44\u0e25\u0e19\u0e4c",value:"/mytimeline",icon:Object(D.jsx)(It.a,{}),component:l.b,to:"/mytimeline"}),Object(D.jsx)(xt.a,{label:"\u0e40\u0e19\u0e37\u0e49\u0e2d\u0e40\u0e23\u0e37\u0e48\u0e2d\u0e07",value:"/mystory",icon:Object(D.jsx)(Et.a,{}),component:l.b,to:"/mystory"})]})})]})},kt=n(653),Tt=n(611),Rt=n(654),$t=n(658),Pt=n(621),Wt=n(324),Ft=n.n(Wt),Lt=n(161),At=n.n(Lt),qt=n(612);function Nt(){var e=r.useState(null),t=Object(a.a)(e,2),n=t[0],c=t[1],i=r.useState(!1),o=Object(a.a)(i,2),s=o[0],l=o[1],d=function(){O({title:"",year:""}),l(!1)},j=r.useState({title:"",year:""}),u=Object(a.a)(j,2),b=u[0],O=u[1];return Object(D.jsxs)(r.Fragment,{children:[Object(D.jsx)(Pt.a,{value:n,onChange:function(e,t){l(!0),1===t&&l(!0)},id:"free-solo-dialog-demo",options:Bt,getOptionLabel:function(e){return"string"===typeof e?(l(!0),e):e.inputValue?(l(!0),e.inputValue):e.title},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,renderOption:function(e,t){return Object(D.jsx)("li",Object(P.a)(Object(P.a)({},e),{},{children:t.title}))},sx:{width:300},freeSolo:!0,renderInput:function(e){return Object(D.jsx)(ct.a,Object(P.a)(Object(P.a)({},e),{},{variant:"standard",InputProps:Object(P.a)(Object(P.a)({},e.InputProps),{},{startAdornment:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Ft.a,{}),e.InputProps.startAdornment]})})}))}}),Object(D.jsx)(kt.a,{open:s,onClose:d,children:Object(D.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c({title:b.title,year:parseInt(b.year,10)}),d()},children:[Object(D.jsx)(Tt.a,{children:"\u0e1c\u0e25\u0e01\u0e32\u0e23\u0e04\u0e49\u0e19\u0e2b\u0e32"}),Object(D.jsx)(Rt.a,{children:Object(D.jsxs)(qt.a,{spacing:2,children:[Object(D.jsx)($t.a,{children:"\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23\u0e19\u0e35\u0e49\u0e1b\u0e23\u0e32\u0e01\u0e0e\u0e43\u0e19"}),Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(At.a,{}),children:"\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e481 : \u0e04\u0e27\u0e32\u0e21\u0e42\u0e0a\u0e04\u0e14\u0e35\u0e43\u0e19\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e2d\u0e31\u0e1a\u0e42\u0e0a\u0e04"}),Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(At.a,{}),children:"\u0e15\u0e2d\u0e19\u0e17\u0e35\u0e482 : \u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e42\u0e25\u0e01\u0e41\u0e2b\u0e48\u0e07\u0e1d\u0e31\u0e19"}),Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(At.a,{}),children:"\u0e44\u0e17\u0e21\u0e4c\u0e44\u0e25\u0e19\u0e4c : \u0e42\u0e25\u0e01\u0e04\u0e27\u0e32\u0e21"}),Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(At.a,{}),children:"\u0e44\u0e17\u0e21\u0e4c\u0e44\u0e25\u0e19\u0e4c : \u0e42\u0e25\u0e01\u0e04\u0e27\u0e32\u0e21\u0e1d\u0e31\u0e19"})]})}),Object(D.jsx)(z.a,{children:Object(D.jsx)(U.a,{onClick:d,children:"\u0e1b\u0e34\u0e14"})})]})})]})}var Bt=[{title:"\u0e0b\u0e32\u0e23\u0e48\u0e32(\u0e19\u0e32\u0e07\u0e40\u0e2d\u0e01)",year:1994},{title:"\u0e1b\u0e35\u0e40\u0e15\u0e2d\u0e23\u0e4c(\u0e1e\u0e23\u0e30\u0e40\u0e2d\u0e01)",year:1972},{title:"\u0e40\u0e14\u0e27\u0e34\u0e14",year:1974}];function Ut(){var e=Object(r.useContext)(S).state.currentUser,t=c.a.useState(null),n=Object(a.a)(t,2),i=n[0],o=n[1],s=c.a.useState(null),d=Object(a.a)(s,2),x=d[0],_=d[1],I=Boolean(i),E=Boolean(x),w=function(e){o(e.currentTarget)},k=function(){_(null)},T=function(){o(null),k()},R=Object(r.useContext)(S).dispatch,$="primary-search-account-menu",P=Object(D.jsxs)(m.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:$,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:I,onClose:T,children:[Object(D.jsx)(p.a,{onClick:T,children:"Profile"}),Object(D.jsx)(p.a,{children:Object(D.jsx)(C.GoogleLogout,{buttonText:"Logout",onLogoutSuccess:function(){R({type:"LOGOUT_USER"}),console.log("Logged out")}})})]}),W="primary-search-account-menu-mobile",F=Object(D.jsx)(m.a,{anchorEl:x,anchorOrigin:{vertical:"top",horizontal:"right"},id:W,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:E,onClose:k,children:Object(D.jsx)(p.a,{onClick:w,children:Object(D.jsx)(g.a,{title:"Open settings",children:Object(D.jsx)(O.a,{sx:{p:0},children:e&&Object(D.jsx)(v.a,{alt:"Remy Sharp",src:e.picture})})})})});return Object(D.jsxs)(j.a,{sx:{flexGrow:1},children:[Object(D.jsx)(u.a,{position:"static",style:{background:"#967969"},children:Object(D.jsxs)(b.a,{children:[Object(D.jsx)(O.a,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",sx:{mr:2},component:l.b,to:"/main-project",children:Object(D.jsx)(y.a,{})}),Object(D.jsx)(h.a,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},children:"Novelis"}),Object(D.jsx)(Nt,{}),Object(D.jsx)(j.a,{sx:{flexGrow:1}}),Object(D.jsx)(j.a,{sx:{display:{xs:"none",md:"flex"}},children:Object(D.jsx)(O.a,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":$,"aria-haspopup":"true",onClick:w,color:"inherit",children:e&&Object(D.jsx)(v.a,{alt:"Remy Sharp",src:e.picture})})}),Object(D.jsx)(j.a,{sx:{display:{xs:"flex",md:"none"}},children:Object(D.jsx)(O.a,{size:"large","aria-label":"show more","aria-controls":W,"aria-haspopup":"true",onClick:function(e){_(e.currentTarget)},color:"inherit",children:Object(D.jsx)(f.a,{})})})]})}),F,P]})}var Ht=n(52),Kt=n(54),Vt=n(622),Gt=n(659),zt=n(613),Mt=["children","value","index"];function Qt(e){var t=e.children,n=e.value,a=e.index,r=Object(Ht.a)(e,Mt);return Object(D.jsx)(h.a,Object(P.a)(Object(P.a)({component:"div",role:"tabpanel",hidden:n!==a,id:"action-tabpanel-".concat(a),"aria-labelledby":"action-tab-".concat(a)},r),{},{children:n===a&&Object(D.jsx)(j.a,{sx:{p:3},children:t})}))}var Jt={position:"absolute",bottom:16,right:16};function Yt(e){var t=e.CharactersCount,n=Object(Kt.a)(),c=r.useState(0),i=Object(a.a)(c,1)[0],o=[{color:"primary",sx:Jt,icon:Object(D.jsx)(Je.a,{}),label:"Add"}];return Object(D.jsxs)(j.a,{sx:{bgcolor:"background.paper",position:"relative",height:"100%",display:"flex",flexDirection:"column"},children:[Object(D.jsx)(u.a,{position:"static",color:"default",children:Object(D.jsxs)(Vt.a,{value:i,indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"action tabs example",tabInlineLabel:"true",children:[Object(D.jsx)(Gt.a,{label:Object(D.jsxs)("div",{children:["\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23  ",Object(D.jsx)(_t.a,{style:{verticalAlign:"middle"}}),"  "]})})," '\u0e41\u0e01\u0e49\u0e0a\u0e37\u0e48\u0e2d'"]})}),Object(D.jsxs)(Qt,{value:i,index:0,dir:n.direction,children:["\u0e21\u0e35\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14 ",t," \u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23"]}),o.map((function(e,t){return Object(D.jsx)(zt.a,{in:i===t,unmountOnExit:!0,children:Object(D.jsx)(Ye.a,{sx:e.sx,"aria-label":e.label,color:e.color,children:e.icon})},e.color)}))]})}var Xt=["children","value","index"];function Zt(e){var t=e.children,n=e.value,a=e.index,r=Object(Ht.a)(e,Xt);return Object(D.jsx)(h.a,Object(P.a)(Object(P.a)({component:"div",role:"tabpanel",hidden:n!==a,id:"action-tabpanel-".concat(a),"aria-labelledby":"action-tab-".concat(a)},r),{},{children:n===a&&Object(D.jsx)(j.a,{sx:{p:3},children:t})}))}var en={position:"absolute",bottom:16,right:16};function tn(e){var t=e.MapsCount,n=Object(Kt.a)(),c=r.useState(0),i=Object(a.a)(c,1)[0],o=[{color:"primary",sx:en,icon:Object(D.jsx)(Je.a,{}),label:"Add"}];return Object(D.jsxs)(j.a,{sx:{bgcolor:"background.paper",position:"relative",minHeight:200},children:[Object(D.jsx)(u.a,{position:"static",color:"default",children:Object(D.jsxs)(Vt.a,{value:i,indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"action tabs example",tabInlineLabel:"true",children:[Object(D.jsx)(Gt.a,{label:Object(D.jsxs)("div",{children:["\u0e1c\u0e31\u0e07\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e2a\u0e31\u0e21\u0e1e\u0e31\u0e19\u0e18\u0e4c ",Object(D.jsx)(St.a,{style:{verticalAlign:"middle"}}),"  "]})})," '\u0e41\u0e01\u0e49\u0e0a\u0e37\u0e48\u0e2d'"]})}),Object(D.jsxs)(Zt,{value:i,index:0,dir:n.direction,children:["\u0e21\u0e35\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14 ",t," \u0e41\u0e1c\u0e19\u0e1c\u0e31\u0e07"]}),o.map((function(e,t){return Object(D.jsx)(zt.a,{in:i===t,unmountOnExit:!0,children:Object(D.jsx)(Ye.a,{sx:e.sx,"aria-label":e.label,color:e.color,children:e.icon})},e.color)}))]})}var nn=["children","value","index"];function an(e){var t=e.children,n=e.value,a=e.index,r=Object(Ht.a)(e,nn);return Object(D.jsx)(h.a,Object(P.a)(Object(P.a)({component:"div",role:"tabpanel",hidden:n!==a,id:"action-tabpanel-".concat(a),"aria-labelledby":"action-tab-".concat(a)},r),{},{children:n===a&&Object(D.jsx)(j.a,{sx:{p:3},children:t})}))}var rn={position:"absolute",bottom:16,right:16};function cn(e){var t=e.TimelineCount,n=Object(Kt.a)(),c=r.useState(0),i=Object(a.a)(c,1)[0],o=[{color:"primary",sx:rn,icon:Object(D.jsx)(Je.a,{}),label:"Add"}];return Object(D.jsxs)(j.a,{sx:{bgcolor:"background.paper",position:"relative",minHeight:200},children:[Object(D.jsx)(u.a,{position:"static",color:"default",children:Object(D.jsxs)(Vt.a,{value:i,indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"action tabs example",tabInlineLabel:"true",children:[Object(D.jsx)(Gt.a,{label:Object(D.jsxs)("div",{children:["\u0e44\u0e17\u0e21\u0e4c\u0e44\u0e25\u0e19\u0e4c  ",Object(D.jsx)(It.a,{style:{verticalAlign:"middle"}}),"  "]})})," '\u0e41\u0e01\u0e49\u0e0a\u0e37\u0e48\u0e2d'"]})}),Object(D.jsxs)(an,{value:i,index:0,dir:n.direction,children:["\u0e21\u0e35\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14 ",t," \u0e44\u0e17\u0e21\u0e4c\u0e44\u0e25\u0e19\u0e4c"]}),o.map((function(e,t){return Object(D.jsx)(zt.a,{in:i===t,unmountOnExit:!0,children:Object(D.jsx)(Ye.a,{sx:e.sx,"aria-label":e.label,color:e.color,children:e.icon})},e.color)}))]})}var on=["children","value","index"];function sn(e){var t=e.children,n=e.value,a=e.index,r=Object(Ht.a)(e,on);return Object(D.jsx)(h.a,Object(P.a)(Object(P.a)({component:"div",role:"tabpanel",hidden:n!==a,id:"action-tabpanel-".concat(a),"aria-labelledby":"action-tab-".concat(a)},r),{},{children:n===a&&Object(D.jsx)(j.a,{sx:{p:3},children:t})}))}var ln={position:"absolute",bottom:16,right:16};function dn(e){var t=e.ChaptersCount,n=Object(Kt.a)(),c=r.useState(0),i=Object(a.a)(c,1)[0],o=[{color:"primary",sx:ln,icon:Object(D.jsx)(Je.a,{}),label:"Add"}];return Object(D.jsxs)(j.a,{sx:{bgcolor:"background.paper",position:"relative",minHeight:200},children:[Object(D.jsx)(u.a,{position:"static",color:"default",children:Object(D.jsxs)(Vt.a,{value:i,indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"action tabs example",tabInlineLabel:"true",children:[Object(D.jsx)(Gt.a,{label:Object(D.jsxs)("div",{children:["\u0e40\u0e19\u0e37\u0e49\u0e2d\u0e40\u0e23\u0e37\u0e48\u0e2d\u0e07  ",Object(D.jsx)(Et.a,{style:{verticalAlign:"middle"}}),"  "]})})," '\u0e41\u0e01\u0e49\u0e0a\u0e37\u0e48\u0e2d'"]})}),Object(D.jsxs)(sn,{value:i,index:0,dir:n.direction,children:["\u0e21\u0e35\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14 ",t," \u0e15\u0e2d\u0e19"]}),o.map((function(e,t){return Object(D.jsx)(zt.a,{in:i===t,unmountOnExit:!0,children:Object(D.jsx)(Ye.a,{sx:e.sx,"aria-label":e.label,color:e.color,children:e.icon})},e.color)}))]})}var jn=n(53),un=n.n(jn);n(40).config();var bn=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});var On=function(){var e=Object(r.useContext)(S),t=e.state,n=e.dispatch,c=t.currentProject,i=xe(),o=Object(r.useState)(""),s=Object(a.a)(o,2),l=s[0],d=s[1],u=Object(r.useState)(""),b=Object(a.a)(u,2),O=b[0],h=b[1],p=Object(r.useState)(""),m=Object(a.a)(p,2),x=m[0],f=m[1],g=Object(r.useState)(""),v=Object(a.a)(g,2),_=v[0],y=v[1],C=Object(r.useState)(!1),I=Object(a.a)(C,2),E=I[0],k=I[1],R=Object(r.useState)(0),$=Object(a.a)(R,2),P=$[0],W=$[1],q=Object(r.useState)(0),N=Object(a.a)(q,2),U=N[0],H=N[1],K=Object(r.useState)(0),V=Object(a.a)(K,2),G=V[0],z=V[1],M=Object(r.useState)(0),Q=Object(a.a)(M,2),J=Q[0],Y=Q[1],X=function(){var e=Object(L.a)(F.a.mark((function e(){var t,a,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("projectId"),a={_id:t},e.next=4,i.request(ye,a);case 4:(r=e.sent)?(console.log(r.selectedProject),d(r.selectedProject.title),h(r.selectedProject.image),f(r.selectedProject.author),y(r.selectedProject.summary),W(r.selectedProject.characters.length),H(r.selectedProject.timelines.length),Y(r.selectedProject.maps.length),z(r.selectedProject.chapters.length),n({type:"SELECT_PROJECT",payload:r.selectedProject})):console.log("Can't find project details");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(L.a)(F.a.mark((function e(){var t,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",O),t.append("upload_preset","Novelis"),t.append("cloud_name","myimagevideocloud"),e.next=6,rt.a.post(jt.CLOUDINARY_URL,t);case 6:return n=e.sent,e.abrupt("return",n.data.url);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(L.a)(F.a.mark((function e(t){var n,a,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),k(!0),console.log({title:l,author:x,summary:_}),n=c._id,a={projectId:n,title:l,author:x,summary:_},e.next=8,i.request(Ce,a);case 8:r=e.sent,console.log("Project updated",{updatedProject:r}),k(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),k(!1),console.log("Error updating project",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(L.a)(F.a.mark((function e(t){var n,a,r,o;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),k(!0),e.next=5,Z();case 5:return n=e.sent,a=c._id,r={projectId:a,image:n},e.next=10,i.request(Ie,r);case 10:o=e.sent,console.log("Project updated",{updatedProject:o}),k(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),k(!1),console.log("Error updating project",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){X()}),[]),Object(D.jsxs)(T.a,{theme:bn,children:[Object(D.jsx)(Ut,{}),Object(D.jsxs)(j.a,{sx:{display:"flex"},children:[Object(D.jsx)(pt.a,{}),Object(D.jsx)(j.a,{component:"main",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:Object(D.jsx)(w.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:Object(D.jsxs)(A.a,{container:!0,spacing:3,children:[Object(D.jsx)(A.a,{item:!0,xs:12,align:"center",children:Object(D.jsxs)(dt.a,{sx:{p:4,display:"flex",flexDirection:"column",height:560,gap:2},children:[Object(D.jsxs)(A.a,{item:!0,xs:12,children:[Object(D.jsx)(B.a,{component:"img",height:"140",sx:{width:151},image:O}),Object(D.jsx)("input",{type:"file",accept:"imge/*",onChange:function(e){return h(e.target.files[0])}}),Object(D.jsxs)(Ye.a,{variant:"extended",size:"small",color:"primary","aria-label":"add",onClick:te,disabled:E,children:["\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e",Object(D.jsx)(un.a,{})]})]}),Object(D.jsx)(ct.a,{id:"outlined-uncontrolled",label:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e0a\u0e37\u0e48\u0e2d\u0e1c\u0e25\u0e07\u0e32\u0e19",value:l||"",multiline:!0,justifyContent:"center",align:"center",onChange:function(e){return d(e.target.value)}}),Object(D.jsx)(ct.a,{id:"outlined-uncontrolled",label:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e19\u0e32\u0e21\u0e1b\u0e32\u0e01\u0e01\u0e32",value:x||"",multiline:!0,justifyContent:"center",onChange:function(e){return f(e.target.value)}}),Object(D.jsx)(ct.a,{id:"outlined-uncontrolled",label:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e40\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e22\u0e48\u0e2d",value:_||"",multiline:!0,justifyContent:"center",rows:2,maxRows:2,onChange:function(e){return y(e.target.value)}}),Object(D.jsxs)(Ye.a,{variant:"extended",size:"small",color:"primary","aria-label":"add",onClick:ee,disabled:E,children:["\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02",Object(D.jsx)(un.a,{})]})]})}),Object(D.jsx)(A.a,{item:!0,xs:12,md:8,lg:6,children:Object(D.jsx)(dt.a,{sx:{p:2,display:"flex",flexDirection:"column",height:220},children:Object(D.jsx)(Yt,{CharactersCount:P})})}),Object(D.jsx)(A.a,{item:!0,xs:12,md:8,lg:6,children:Object(D.jsx)(dt.a,{sx:{p:2,display:"flex",flexDirection:"column",height:220},children:Object(D.jsx)(cn,{TimelineCount:U})})}),Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(dt.a,{sx:{p:2,display:"flex",flexDirection:"column",height:220},children:Object(D.jsx)(tn,{MapsCount:J})})}),Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(dt.a,{sx:{p:2,display:"flex",flexDirection:"column",height:400},children:Object(D.jsx)(dn,{ChaptersCount:G})})}),Object(D.jsx)(A.a,{item:!0,xs:12})]})})})]})]})};n(40).config();var hn=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});var pn=function(){var e=new R.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URI}),t=Object(d.g)().state,n=Object(r.useState)(""),c=Object(a.a)(n,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){t&&(console.log(t.selectedProjectId),o(t.selectedProjectId))}),[t]),Object(D.jsx)($.a,{client:e,children:Object(D.jsxs)(T.a,{theme:hn,children:[Object(D.jsx)(On,{}),Object(D.jsx)(wt,{thisProjectId:i})]})})};function mn(e){var t=e.CharacterName,n=e.last_edited,c=e.characterId,i=e.DisplayName,o=e.Image,s=e.dob,l=e.uniqueness1,u=e.uniqueness2,b=Object(d.h)(),O=Object(r.useState)(""),p=Object(a.a)(O,2),m=p[0],x=p[1],f=function(){var e=Object(L.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b("/characterdetails"),localStorage.setItem("characterId",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){s&&function(e){var t=e.slice(0,4),n=e.slice(5,7),a=e.slice(8,10);x(a+"/"+n+"/"+t)}(s)}),[]),Object(D.jsxs)(q.a,{sx:{display:"flex"},onClick:function(){return f(c)},children:[Object(D.jsx)(j.a,{sx:{display:"flex",flexDirection:"column"},children:Object(D.jsxs)(N.a,{sx:{flex:"1 0 auto"},children:[Object(D.jsx)(h.a,{component:"div",variant:"h5",children:i}),Object(D.jsx)(h.a,{variant:"subtitle1",component:"div",children:t}),Object(D.jsxs)(h.a,{variant:"subtitle1",component:"div",children:["\u0e27\u0e31\u0e19\u0e40\u0e01\u0e34\u0e14: ",m]}),Object(D.jsxs)(h.a,{variant:"subtitle1",component:"div",children:["-",l," -",u]}),Object(D.jsxs)(h.a,{variant:"subtitle1",component:"div",children:["\u0e41\u0e01\u0e49\u0e44\u0e02\u0e25\u0e48\u0e32\u0e2a\u0e38\u0e14\u0e40\u0e21\u0e37\u0e48\u0e2d: ",n]})]})}),Object(D.jsx)(j.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(D.jsx)(B.a,{component:"img",sx:{width:151},image:o,alt:"character image"})})]})}var xn={alignSelf:"flex-end",position:"fixed",bottom:"3%",right:"2%"};var fn=function(){var e=xe(),t=localStorage.getItem("projectId"),n=Object(r.useState)([]),c=Object(a.a)(n,2),i=c[0],o=c[1],s=function(){var n=Object(L.a)(F.a.mark((function n(){var a,r;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={_id:t},n.next=3,e.request(ye,a);case 3:(r=n.sent)?o(r.selectedProject.characters):console.log("null");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){s()}),[]),Object(D.jsxs)(j.a,{sx:{display:"flex"},children:[Object(D.jsx)(pt.a,{}),Object(D.jsx)(j.a,{component:"main",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:Object(D.jsxs)(w.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:[Object(D.jsxs)(A.a,{container:!0,spacing:3,children:[Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(dt.a,{sx:{p:2,display:"flex",flexDirection:"column",height:100},children:Object(D.jsx)(h.a,{variant:"h6",gutterBottom:!0,align:"center",sx:{p:3},children:"\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23"})})}),i.map((function(e){var t=e.last_edited,n=t.slice(8,10),a=t.slice(4,7).toLowerCase(),r=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(a)+1,c=n+"/"+(r<10?"0"+r:r)+"/"+t.slice(11,15);return Object(D.jsx)(A.a,{item:!0,xs:12,md:8,lg:6,children:Object(D.jsx)(mn,{CharacterName:e.name,DisplayName:e.display_name,Image:e.image,last_edited:c,characterId:e._id,dob:e.DOB,uniqueness1:e.uniqueness[0]||"",uniqueness2:e.uniqueness[1]||""})},e._id)}))]}),Object(D.jsx)(Ye.a,{style:xn,color:"primary",sx:{my:8,mx:4},component:l.b,to:"/editcharacter",children:Object(D.jsx)(Je.a,{})})]})})]})};n(40).config();var gn=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});var vn=function(){var e=new R.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URI});return Object(D.jsx)($.a,{client:e,children:Object(D.jsxs)(T.a,{theme:gn,children:[Object(D.jsx)(Ut,{}),Object(D.jsx)(fn,{}),Object(D.jsx)(wt,{})]})})},_n=n(23);n(40).config();var yn=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});var Sn=function(){var e=Object(r.useContext)(S).state.currentProject,t=Object(d.h)(),n=xe(),c=Object(r.useState)(""),i=Object(a.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)(""),j=Object(a.a)(l,2),u=j[0],b=j[1],O=Object(r.useState)(""),p=Object(a.a)(O,2),m=p[0],x=p[1],f=(new Date).toISOString().slice(0,10),g=Object(r.useState)(f),v=Object(a.a)(g,2),_=v[0],y=v[1],C=Object(r.useState)(""),I=Object(a.a)(C,2),E=I[0],k=I[1],R=Object(r.useState)([]),$=Object(a.a)(R,2),P=$[0],W=$[1],q=Object(r.useState)([]),N=Object(a.a)(q,2),B=N[0],H=N[1],K=Object(r.useState)(!1),V=Object(a.a)(K,2),G=V[0],z=V[1];Object(r.useEffect)((function(){W([""]),console.log(e._id)}),[]);var M=function(){var e=Object(L.a)(F.a.mark((function e(){var t,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",u),t.append("upload_preset","Novelis"),t.append("cloud_name","myimagevideocloud"),e.next=6,rt.a.post(jt.CLOUDINARY_URL,t);case 6:return n=e.sent,e.abrupt("return",n.data.url);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var a=Object(L.a)(F.a.mark((function a(r){var c,i,s,l,d;return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r.preventDefault(),z(!0),a.next=5,M();case 5:return c=a.sent,i=e._id,s={projectId:i,name:o,image:c,display_name:m,dob:_,biography:E,uniqueness:B},a.next=10,n.request(Ee,s);case 10:l=a.sent,d=l.createCharacter,console.log("Character created",d),z(!1),!1===G&&t("/mycharacter"),a.next=21;break;case 17:a.prev=17,a.t0=a.catch(0),z(!1),console.log("Error creating character",a.t0);case 21:case"end":return a.stop()}}),a,null,[[0,17]])})));return function(e){return a.apply(this,arguments)}}();return Object(D.jsx)("form",{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:Object(D.jsx)(T.a,{theme:yn,children:Object(D.jsx)(w.a,{component:"main",maxWidth:"sm",sx:{mb:4},children:Object(D.jsxs)(dt.a,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[Object(D.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:"\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23"}),Object(D.jsxs)(A.a,{container:!0,spacing:3,children:[Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)("input",{type:"file",onChange:function(e){return b(e.target.files[0])}})}),Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(ct.a,{required:!0,id:"Character Name",label:"\u0e0a\u0e37\u0e48\u0e2d\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",fullWidth:!0,variant:"standard",onChange:function(e){return s(e.target.value)}})}),Object(D.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(D.jsx)(ct.a,{id:"nickName",name:"nickName",label:"\u0e0a\u0e37\u0e48\u0e2d\u0e17\u0e35\u0e48\u0e41\u0e2a\u0e14\u0e07",fullWidth:!0,autoComplete:"family-name",variant:"standard",onChange:function(e){return x(e.target.value)}})}),Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(ct.a,{id:"birth_date",label:"\u0e27\u0e31\u0e19\u0e40\u0e01\u0e34\u0e14 ",type:"date",sx:{width:220},InputLabelProps:{shrink:!0},value:_,onChange:function(e){var t=e.target.value;y(t),console.log(_)}})}),Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(ct.a,{required:!0,id:"background",label:"\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",type:"passtextword",fullWidth:!0,variant:"standard",onChange:function(e){return k(e.target.value)}})}),P.map((function(e,t){var n=B.length;return Object(D.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(D.jsx)(ct.a,{id:"city",name:"city",label:"\u0e40\u0e2d\u0e01\u0e25\u0e31\u0e01\u0e29\u0e13\u0e4c",fullWidth:!0,variant:"standard",onChange:function(e){return function(e,t){var n=B;""!==t.target.value&&(n[e]=t.target.value,H(n),console.log(B))}(n,e)}})})})),Object(D.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(ot.a,{}),type:"submit",onClick:function(e){e.preventDefault(),W([].concat(Object(_n.a)(P),["uniqness"]))},children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e2d\u0e01\u0e25\u0e31\u0e01\u0e29\u0e13\u0e4c"})}),Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(st.a,{control:Object(D.jsx)(lt.a,{color:"secondary",name:"saveAddress",value:"yes"}),label:"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e41\u0e01\u0e49\u0e44\u0e02"})})]}),Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(un.a,{}),type:"submit",color:"success",onClick:Q,children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"})]})})})})};n(40).config();var Cn=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}}),In=new R.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URI}),Dn=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CLOUDINARY_URL;var En=function(){return Object(D.jsx)(nt.a,{client:In,children:Object(D.jsxs)(T.a,{theme:Cn,children:[Object(D.jsx)(Ut,{}),Object(D.jsx)(Sn,{cloudinary:Dn}),Object(D.jsx)(wt,{})]})})},wn=n(93),kn=n.n(wn);n(40).config();var Tn=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});var Rn=function(){var e=Object(r.useContext)(S).state.currentProject,t=Object(d.h)(),n=xe(),c=localStorage.getItem("characterId"),i=Object(r.useState)(""),o=Object(a.a)(i,2),s=o[0],l=o[1],j=Object(r.useState)(""),u=Object(a.a)(j,2),b=u[0],O=u[1],p=Object(r.useState)(""),m=Object(a.a)(p,2),x=m[0],f=m[1],g=(new Date).toISOString().slice(0,10),v=Object(r.useState)(g),_=Object(a.a)(v,2),y=_[0],C=_[1],I=Object(r.useState)(""),E=Object(a.a)(I,2),k=E[0],R=E[1],$=Object(r.useState)([]),W=Object(a.a)($,2),q=W[0],N=W[1],H=Object(r.useState)(!1),K=Object(a.a)(H,2),V=K[0],G=K[1],z=Object(r.useState)([]),M=Object(a.a)(z,2),Q=M[0],J=M[1],Y=Object(r.useState)(0),X=Object(a.a)(Y,2),Z=X[0],ee=X[1],te=Object(r.useState)({isOpen:!1,title:"",subTitle:""}),ne=Object(a.a)(te,2),ae=ne[0],re=ne[1],ce=function(){var e=Object(L.a)(F.a.mark((function e(){var t,a,r,c,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("projectId"),a={_id:t},e.next=4,n.request(ye,a);case 4:return r=e.sent,c=localStorage.getItem("characterId"),e.next=8,r.selectedProject.characters.find((function(e){return e._id===c}));case 8:i=e.sent,console.log(i),i?(l(i.name),O(i.image),f(i.display_name),C(i.DOB),R(i.biography),N(i.uniqueness)):console.log("can't find character details");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(L.a)(F.a.mark((function e(){var t,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",b),t.append("upload_preset","Novelis"),t.append("cloud_name","myimagevideocloud"),e.next=6,rt.a.post(jt.CLOUDINARY_URL,t);case 6:return n=e.sent,e.abrupt("return",n.data.url);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var t=Object(L.a)(F.a.mark((function t(a){var r,c,i,o;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.preventDefault(),G(!0),r=e._id,c=localStorage.getItem("characterId"),i={projectId:r,characterId:c,name:s,display_name:x,dob:y,biography:k},t.next=8,n.request(we,i);case 8:o=t.sent,console.log("Character updated",o),G(!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),G(!1),console.log("Error updating character",t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),se=function(){var t=Object(L.a)(F.a.mark((function t(a){var r,c,i,o,s;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.preventDefault(),G(!0),r=e._id,c=localStorage.getItem("characterId"),t.next=7,ie();case 7:return i=t.sent,o={projectId:r,characterId:c,image:i},t.next=11,n.request(ke,o);case 11:s=t.sent,console.log("Character updated",s),G(!1),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),G(!1),console.log("Error updating character",t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}(),le=function(){var a=Object(L.a)(F.a.mark((function a(r){var c,i,o,s;return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),re(Object(P.a)(Object(P.a)({},ae),{},{isOpen:!1})),c=localStorage.getItem("characterId"),i=e._id,o={characterId:c,projectId:i},a.next=7,n.request(Te,o);case 7:(s=a.sent)?(console.log(s),t("/mycharacter")):console.log("error deleting character");case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(r.useEffect)((function(){console.log(c),ce(),ee(0)}),[]),Object(D.jsxs)("div",{children:[Object(D.jsx)("form",{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:Object(D.jsx)(T.a,{theme:Tn,children:Object(D.jsx)(w.a,{component:"main",maxWidth:"sm",sx:{mb:4},children:Object(D.jsxs)(dt.a,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[Object(D.jsx)(h.a,{variant:"h6",gutterBottom:!0,children:"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23"}),Object(D.jsxs)(A.a,{container:!0,spacing:3,children:[Object(D.jsxs)(A.a,{item:!0,xs:12,children:[Object(D.jsx)(B.a,{component:"img",height:"140",sx:{width:151},image:b}),Object(D.jsx)("input",{type:"file",accept:"imge/*",onChange:function(e){return O(e.target.files[0])}}),Object(D.jsxs)(Ye.a,{variant:"extended",size:"small",color:"primary","aria-label":"add",onClick:se,disabled:V,children:["\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e",Object(D.jsx)(un.a,{})]})]}),Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(ct.a,{id:"Character Name",label:"\u0e0a\u0e37\u0e48\u0e2d\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",fullWidth:!0,variant:"standard",value:s||"",onChange:function(e){return l(e.target.value)}})}),Object(D.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(D.jsx)(ct.a,{id:"nickName",name:"nickName",label:"\u0e0a\u0e37\u0e48\u0e2d\u0e17\u0e35\u0e48\u0e41\u0e2a\u0e14\u0e07",fullWidth:!0,autoComplete:"family-name",variant:"standard",value:x||"",onChange:function(e){return f(e.target.value)}})}),Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(ct.a,{id:"birth_date",label:"\u0e27\u0e31\u0e19\u0e40\u0e01\u0e34\u0e14 ",type:"date",sx:{width:220},InputLabelProps:{shrink:!0},value:y,onChange:function(e){var t=e.target.value;C(t),console.log(y)}})}),Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(ct.a,{id:"background",label:"\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",type:"passtextword",fullWidth:!0,variant:"standard",value:k||"",onChange:function(e){return R(e.target.value)}})}),q.map((function(e){return Object(D.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(D.jsx)(ct.a,{id:"city",name:"city",label:"\u0e40\u0e2d\u0e01\u0e25\u0e31\u0e01\u0e29\u0e13\u0e4c",fullWidth:!0,autoComplete:"shipping address-level2",variant:"standard",value:e||"",onLoad:function(e){return function(e,t){var n=Q;""!==t.target.value&&(n[e]=t.target.value,J(n),console.log("hi"),ee(Z+1))}(Z,e)}})},e)})),Object(D.jsx)(A.a,{item:!0,xs:12,sm:6,children:Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(ot.a,{}),type:"submit",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e2d\u0e01\u0e25\u0e31\u0e01\u0e29\u0e13\u0e4c"})}),Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(st.a,{control:Object(D.jsx)(lt.a,{color:"secondary",name:"saveAddress",value:"yes"}),label:"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e41\u0e01\u0e49\u0e44\u0e02"})})]}),Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(kn.a,{}),color:"error",onClick:function(){re({isOpen:!0,title:"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23\u0e19\u0e35\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48",subTitle:"",onConfirm:function(e){le(e)}})},children:"\u0e25\u0e1a\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23"}),Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(un.a,{}),type:"submit",color:"success",onClick:oe,children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02"})]})})})}),Object(D.jsx)(He,{confirmDialog:ae,setConfirmDialog:re})]})};n(40).config();var $n=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});var Pn=function(){var e=new R.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URI}),t=Object(d.g)().state,n=Object(r.useState)(""),c=Object(a.a)(n,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){t&&(console.log(t.selectedProjectId),o(t.selectedProjectId))}),[t]),Object(D.jsx)($.a,{client:e,children:Object(D.jsxs)(T.a,{theme:$n,children:[Object(D.jsx)(Ut,{}),Object(D.jsx)(Rn,{}),Object(D.jsx)(wt,{thisProjectId:i})]})})},Wn=n(136),Fn=n.n(Wn),Ln=["children","value","index"];function An(e){var t=e.children,n=e.value,a=e.index,r=Object(Ht.a)(e,Ln);return Object(D.jsx)(h.a,Object(P.a)(Object(P.a)({component:"div",role:"tabpanel",hidden:n!==a,id:"action-tabpanel-".concat(a),"aria-labelledby":"action-tab-".concat(a)},r),{},{children:n===a&&Object(D.jsx)(j.a,{sx:{p:3},children:t})}))}var qn={position:"absolute",bottom:16,right:16};function Nn(e){var t=e.MappingName,n=e.LastEdited,c=Object(Kt.a)(),i=r.useState(0),o=Object(a.a)(i,1)[0],s=[{color:"primary",sx:qn,icon:Object(D.jsx)(Fn.a,{}),label:"Add"}];return Object(D.jsxs)(j.a,{sx:{bgcolor:"background.paper",position:"relative",minHeight:200},children:[Object(D.jsx)(u.a,{position:"static",color:"default",children:Object(D.jsx)(Vt.a,{value:o,indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"action tabs example",children:Object(D.jsx)(Gt.a,{label:t})})}),Object(D.jsxs)(An,{value:o,index:0,dir:c.direction,children:["\u0e41\u0e01\u0e49\u0e44\u0e02\u0e25\u0e48\u0e32\u0e2a\u0e38\u0e14\u0e40\u0e21\u0e37\u0e48\u0e2d: ",n]}),s.map((function(e,t){return Object(D.jsx)(zt.a,{in:o===t,unmountOnExit:!0,children:Object(D.jsx)(Ye.a,{sx:e.sx,"aria-label":e.label,color:e.color,children:e.icon})},e.color)}))]})}var Bn=function(){var e=xe(),t=localStorage.getItem("projectId"),n=Object(r.useState)([]),c=Object(a.a)(n,2),i=c[0],o=c[1],s=function(){var n=Object(L.a)(F.a.mark((function n(){var a,r;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={_id:t},n.next=3,e.request(ye,a);case 3:(r=n.sent)?o(r.selectedProject.maps):console.log("null");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){s()}),[]),Object(D.jsxs)(j.a,{sx:{display:"flex"},children:[Object(D.jsx)(pt.a,{}),Object(D.jsx)(j.a,{component:"main",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:Object(D.jsxs)(w.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:[Object(D.jsxs)(A.a,{container:!0,spacing:3,children:[Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(dt.a,{sx:{p:2,display:"flex",flexDirection:"column",height:100},children:Object(D.jsx)(h.a,{variant:"h6",gutterBottom:!0,align:"center",sx:{p:3},children:"\u0e41\u0e1c\u0e19\u0e1c\u0e31\u0e07"})})}),i.map((function(e){var t=e.last_edited,n=t.slice(8,10),a=t.slice(4,7).toLowerCase(),r=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(a)+1,c=n+"/"+(r<10?"0"+r:r)+"/"+t.slice(11,15);return Object(D.jsx)(A.a,{item:!0,xs:12,md:8,lg:6,children:Object(D.jsx)(dt.a,{sx:{p:2,display:"flex",flexDirection:"column",height:220},children:Object(D.jsx)(Nn,{MappingName:e.name,LastEdited:c})})},e._id)}))]}),Object(D.jsx)(Ye.a,{style:{alignSelf:"flex-end",position:"fixed",bottom:"3%",right:"2%"},color:"primary",sx:{my:8,mx:4},component:l.b,to:"/editmap",children:Object(D.jsx)(Je.a,{})})]})})]})};n(40).config();var Un=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});var Hn=function(){var e=new R.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URI});return Object(D.jsx)($.a,{client:e,children:Object(D.jsxs)(T.a,{theme:Un,children:[Object(D.jsx)(Ut,{}),Object(D.jsx)(Bn,{}),Object(D.jsx)(wt,{})]})})},Kn=["children","value","index"];function Vn(e){var t=e.children,n=e.value,a=e.index,r=Object(Ht.a)(e,Kn);return Object(D.jsx)(h.a,Object(P.a)(Object(P.a)({component:"div",role:"tabpanel",hidden:n!==a,id:"action-tabpanel-".concat(a),"aria-labelledby":"action-tab-".concat(a)},r),{},{children:n===a&&Object(D.jsx)(j.a,{sx:{p:3},children:t})}))}var Gn={position:"absolute",bottom:16,right:16};function zn(e){var t=e.ChapterName,n=e.LastEdited,c=e.ChapterId,i=Object(Kt.a)(),o=r.useState(0),s=Object(a.a)(o,1)[0],l=Object(d.h)(),b=[{color:"primary",sx:Gn,icon:Object(D.jsx)(Fn.a,{}),label:"Add"}],O=function(){var e=Object(L.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l("/chapterdetail"),localStorage.setItem("chapterId",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)(j.a,{sx:{bgcolor:"background.paper",position:"relative",minHeight:200},onClick:function(){return O(c)},children:[Object(D.jsx)(u.a,{position:"static",color:"default",children:Object(D.jsx)(Vt.a,{value:s,indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"action tabs example",children:Object(D.jsx)(Gt.a,{label:t})})}),Object(D.jsxs)(Vn,{value:s,index:0,dir:i.direction,children:["\u0e41\u0e01\u0e49\u0e44\u0e02\u0e25\u0e48\u0e32\u0e2a\u0e38\u0e14\u0e40\u0e21\u0e37\u0e48\u0e2d: ",n]}),b.map((function(e,t){return Object(D.jsx)(zt.a,{in:s===t,unmountOnExit:!0,children:Object(D.jsx)(Ye.a,{sx:e.sx,"aria-label":e.label,color:e.color,children:e.icon})},e.color)}))]})}var Mn=function(){var e=xe(),t=localStorage.getItem("projectId"),n=Object(r.useState)([]),c=Object(a.a)(n,2),i=c[0],o=c[1],s=function(){var n=Object(L.a)(F.a.mark((function n(){var a,r;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={_id:t},n.next=3,e.request(ye,a);case 3:(r=n.sent)?o(r.selectedProject.chapters):console.log("null");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){s()}),[]),Object(D.jsxs)(j.a,{sx:{display:"flex"},children:[Object(D.jsx)(pt.a,{}),Object(D.jsx)(j.a,{component:"main",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:Object(D.jsxs)(w.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:[Object(D.jsxs)(A.a,{container:!0,spacing:3,children:[Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(dt.a,{sx:{p:2,display:"flex",flexDirection:"column",height:100},children:Object(D.jsx)(h.a,{variant:"h6",gutterBottom:!0,align:"center",sx:{p:3},children:"\u0e40\u0e19\u0e37\u0e49\u0e2d\u0e40\u0e23\u0e37\u0e48\u0e2d\u0e07"})})}),i.map((function(e){var t=e.last_edited,n=t.slice(8,10),a=t.slice(4,7).toLowerCase(),r=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(a)+1,c=n+"/"+(r<10?"0"+r:r)+"/"+t.slice(11,15);return Object(D.jsx)(A.a,{item:!0,xs:12,md:8,lg:6,children:Object(D.jsx)(dt.a,{sx:{p:2,display:"flex",flexDirection:"column",height:220},children:Object(D.jsx)(zn,{ChapterName:e.name,LastEdited:c,ChapterId:e._id})})},e._id)}))]}),Object(D.jsx)(Ye.a,{style:{alignSelf:"flex-end",position:"fixed",bottom:"3%",right:"2%"},color:"primary",sx:{my:8,mx:4},component:l.b,to:"/editstory",children:Object(D.jsx)(Je.a,{})})]})})]})};n(40).config();var Qn=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});var Jn=function(){var e=new R.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URI});return Object(D.jsx)($.a,{client:e,children:Object(D.jsxs)(T.a,{theme:Qn,children:[Object(D.jsx)(Ut,{}),Object(D.jsx)(Mn,{}),Object(D.jsx)(wt,{})]})})},Yn=["children","value","index"];function Xn(e){var t=e.children,n=e.value,a=e.index,r=Object(Ht.a)(e,Yn);return Object(D.jsx)(h.a,Object(P.a)(Object(P.a)({component:"div",role:"tabpanel",hidden:n!==a,id:"action-tabpanel-".concat(a),"aria-labelledby":"action-tab-".concat(a)},r),{},{children:n===a&&Object(D.jsx)(j.a,{sx:{p:3},children:t})}))}var Zn={position:"absolute",bottom:16,right:16};function ea(e){var t=e.TimelineName,n=e.TimelineId,c=e.LastEdited,i=Object(Kt.a)(),o=r.useState(0),s=Object(a.a)(o,1)[0],l=Object(d.h)(),b=function(){var e=Object(L.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l("/timelinedetails"),localStorage.setItem("timelineId",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=[{color:"primary",sx:Zn,icon:Object(D.jsx)(Fn.a,{}),label:"Add"}];return Object(D.jsxs)(j.a,{sx:{bgcolor:"background.paper",position:"relative",minHeight:200},onClick:function(){return b(n)},children:[Object(D.jsx)(u.a,{position:"static",color:"default",children:Object(D.jsx)(Vt.a,{value:s,indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"action tabs example",children:Object(D.jsx)(Gt.a,{label:t})})}),Object(D.jsxs)(Xn,{value:s,index:0,dir:i.direction,children:["\u0e41\u0e01\u0e49\u0e44\u0e02\u0e25\u0e48\u0e32\u0e2a\u0e38\u0e14\u0e40\u0e21\u0e37\u0e48\u0e2d: ",c]}),O.map((function(e,t){return Object(D.jsx)(zt.a,{in:s===t,unmountOnExit:!0,children:Object(D.jsx)(Ye.a,{sx:e.sx,"aria-label":e.label,color:e.color,children:e.icon})},e.color)}))]})}var ta=function(){var e=xe(),t=localStorage.getItem("projectId"),n=Object(r.useState)([]),c=Object(a.a)(n,2),i=c[0],o=c[1],s=function(){var n=Object(L.a)(F.a.mark((function n(){var a,r;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={_id:t},n.next=3,e.request(ye,a);case 3:(r=n.sent)?o(r.selectedProject.timelines):console.log("null");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){s()}),[]),Object(D.jsxs)(j.a,{sx:{display:"flex"},children:[Object(D.jsx)(pt.a,{}),Object(D.jsx)(j.a,{component:"main",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:Object(D.jsxs)(w.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:[Object(D.jsxs)(A.a,{container:!0,spacing:3,children:[Object(D.jsx)(A.a,{item:!0,xs:12,children:Object(D.jsx)(dt.a,{sx:{p:2,display:"flex",flexDirection:"column",height:100},children:Object(D.jsx)(h.a,{variant:"h6",gutterBottom:!0,align:"center",sx:{p:3},children:"\u0e44\u0e17\u0e21\u0e4c\u0e44\u0e25\u0e19\u0e4c"})})}),i.map((function(e){var t=e.last_edited,n=t.slice(8,10),a=t.slice(4,7).toLowerCase(),r=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(a)+1,c=n+"/"+(r<10?"0"+r:r)+"/"+t.slice(11,15);return Object(D.jsx)(A.a,{item:!0,xs:12,md:8,lg:6,children:Object(D.jsx)(dt.a,{sx:{p:2,display:"flex",flexDirection:"column",height:220},children:Object(D.jsx)(ea,{TimelineName:e.name,TimelineId:e._id,LastEdited:c})})},e._id)}))]}),Object(D.jsx)(Ye.a,{style:{alignSelf:"flex-end",position:"fixed",bottom:"3%",right:"2%"},color:"primary",sx:{my:8,mx:4},component:l.b,to:"/edittimeline",children:Object(D.jsx)(Je.a,{})})]})})]})};n(40).config();var na=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});var aa=function(){var e=new R.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URI});return Object(D.jsx)($.a,{client:e,children:Object(D.jsxs)(T.a,{theme:na,children:[Object(D.jsx)(Ut,{}),Object(D.jsx)(ta,{}),Object(D.jsx)(wt,{})]})})},ra=n(325),ca=n.n(ra);n(40).config();var ia=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});var oa=function(){var e=Object(r.useContext)(S).dispatch,t=function(){var t=Object(L.a)(F.a.mark((function t(a){var r,c,i,o;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log({googleUser:a}),t.prev=1,r=a.getAuthResponse().id_token,c=new M.GraphQLClient(me,{headers:{authorization:r}}),t.next=6,c.request(ve);case 6:i=t.sent,o=i.me,console.log({me:o}),e({type:"LOGIN_USER",payload:o}),e({type:"IS_LOGGED_IN",payload:a.isSignedIn()}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),n(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}(),n=function(e){console.log(e),console.log("Google Sign In was unsuccessful. Try again later.")};return Object(D.jsx)(T.a,{theme:ia,children:Object(D.jsxs)(A.a,{container:!0,component:"main",sx:{height:"100vh"},children:[Object(D.jsx)(pt.a,{}),Object(D.jsx)(A.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(D.jsx)(A.a,{item:!0,xs:12,sm:8,md:5,component:dt.a,elevation:6,square:!0,children:Object(D.jsxs)(j.a,{sx:{pt:20,my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(D.jsx)(v.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(D.jsx)(ca.a,{})}),Object(D.jsx)(h.a,{component:"h1",variant:"h5",children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"}),Object(D.jsx)(j.a,{component:"form",noValidate:!0,onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget);console.log({email:t.get("email"),password:t.get("password")})},sx:{mt:1},children:Object(D.jsx)(A.a,{container:!0,children:Object(D.jsx)(A.a,{item:!0,sx:{mt:3,mb:2},children:Object(D.jsx)(I.a,{clientId:jt.GOOGLE_CLIENT_ID,buttonText:"Login with Google",onSuccess:t,onFailure:n,cookiePolicy:"single_host_origin",isSignedIn:!0})})})})]})})]})})};n(40).config();var sa=new R.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URI});function la(){return Object(r.useContext)(S).state.isAuth?Object(D.jsx)(d.a,{to:"/main-project"}):Object(D.jsx)(nt.a,{client:sa,children:Object(D.jsx)(oa,{})})}n(272);var da=n(106),ja=n(614),ua=n(196),ba=n.n(ua),Oa=n(197),ha=n.n(Oa);function pa(){var e=xe(),t=c.a.useState(!1),n=Object(a.a)(t,2),i=n[0],o=n[1],s=Object(r.useState)([{id:"item-0",name:"",date:"",event:"",character:""},{id:"item-1",name:"",date:"",event:"",character:""}]),l=Object(a.a)(s,2),d=l[0],j=l[1],u=Object(r.useState)(""),b=Object(a.a)(u,2),O=b[0],h=b[1],p=Object(r.useState)(""),m=Object(a.a)(p,2),x=m[0],f=m[1],g=Object(r.useState)(!1),v=Object(a.a)(g,2),_=v[0],y=v[1],S=function(){o(!1)},C=window.location.pathname,I=c.a.useState(C),E=Object(a.a)(I,2),w=E[0],k=E[1],T=function(){var e=[];return d.forEach((function(t){var n={id:"item-".concat(d.indexOf(t)),name:t.name,date:t.date,event:t.event,character:t.character};e.push(n)})),e},R=function(){var t=Object(L.a)(F.a.mark((function t(n,a){var r,c,i,o;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),y(!0),r=localStorage.getItem("projectId"),c=T(),console.log(c),i={projectId:r,name:O,characters:x,box:c},console.log(i),t.next=9,e.request(Re,i);case 9:o=t.sent,console.log(o),y(!1);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(D.jsxs)("div",{children:[Object(D.jsxs)(ja.a,{children:[Object(D.jsx)(ct.a,{id:"outlined-uncontrolled",label:"\u0e0a\u0e37\u0e48\u0e2d\u0e44\u0e17\u0e21\u0e4c\u0e44\u0e25\u0e19\u0e4c",multiline:!1,variant:"standard",fullWidth:!0,sx:{mt:1},onChange:function(e){return h(e.target.value)}}),Object(D.jsx)(ct.a,{id:"outlined-uncontrolled",label:"\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",multiline:!1,variant:"standard",fullWidth:!0,sx:{mt:1},onChange:function(e){return f(e.target.value)}})]}),Object(D.jsxs)(ja.a,{display:"flex",justifyContent:"center",alignItems:"center",children:[Object(D.jsx)(da.a,{onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var r=Array.from(e),c=r.splice(t,1),i=Object(a.a)(c,1)[0];return r.splice(n,0,i),r}(d,e.source.index,e.destination.index);j(t)}},children:Object(D.jsx)(da.c,{droppableId:"droppable",children:function(e,t){return Object(D.jsxs)("div",Object(P.a)(Object(P.a)({},e.droppableProps),{},{ref:e.innerRef,style:(n=t.isDraggingOver,{background:n?"#483C32\t":"#877e78",padding:8,width:500}),children:[d.map((function(e,t){return Object(D.jsx)(da.b,{draggableId:e.id,index:t,children:function(t,n){return Object(D.jsxs)("div",Object(P.a)(Object(P.a)(Object(P.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(a=n.isDragging,r=t.draggableProps.style,Object(P.a)({userSelect:"none",padding:16,margin:"0 0 ".concat(8,"px 0"),background:a?"#D2B48C\t":"#f5ebe6"},r)),children:[Object(D.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"title",label:"\u0e0a\u0e37\u0e48\u0e2d\u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c",fullWidth:!0,variant:"standard",onChange:function(t){d[d.indexOf(e)].name=t.target.value}}),Object(D.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"title",label:"\u0e40\u0e27\u0e25\u0e32(\u0e44\u0e21\u0e48\u0e1a\u0e31\u0e07\u0e04\u0e31\u0e1a)",fullWidth:!0,variant:"standard",type:"datetime-local",onChange:function(t){d[d.indexOf(e)].date=t.target.value}}),Object(D.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"title",label:"\u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c",fullWidth:!0,variant:"standard",onChange:function(t){d[d.indexOf(e)].event=t.target.value}}),Object(D.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"title",label:"\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",fullWidth:!0,variant:"standard",onChange:function(t){d[d.indexOf(e)].character=t.target.value}}),Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(un.a,{}),type:"submit",color:"success",disabled:_,children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"}),Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(kn.a,{}),type:"submit",color:"error",children:"\u0e25\u0e1a"})]}));var a,r}},e.id)})),e.placeholder]}));var n}})}),Object(D.jsxs)(qt.a,{spacing:10,children:[Object(D.jsx)(Ye.a,{color:"primary",style:{alignSelf:"flex-end",position:"fixed",bottom:"15%",right:"10%"},"aria-label":"add",onClick:function(){o(!0)},sx:{},children:Object(D.jsx)(Je.a,{})}),Object(D.jsxs)(kt.a,{open:i,onClose:S,children:[Object(D.jsx)(Tt.a,{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c"}),Object(D.jsxs)(Rt.a,{children:[Object(D.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"title",label:"\u0e0a\u0e37\u0e48\u0e2d\u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c",fullWidth:!0,variant:"standard"}),Object(D.jsx)(ct.a,{id:"datetime-local",sx:{mt:4},label:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e41\u0e25\u0e30\u0e40\u0e27\u0e25\u0e32(\u0e44\u0e21\u0e48\u0e1a\u0e31\u0e07\u0e04\u0e31\u0e1a)",type:"datetime-local",fullWidth:!0,defaultValue:"2017-05-24T10:30",InputLabelProps:{shrink:!0}}),Object(D.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"event",label:"\u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c",fullWidth:!0,variant:"standard"}),Object(D.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"character",label:"\u0e41\u0e17\u0e47\u0e01\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",fullWidth:!0,variant:"standard"})]}),Object(D.jsxs)(z.a,{children:[Object(D.jsx)(U.a,{onClick:S,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),Object(D.jsx)(U.a,{onClick:function(e){var t=d.length;e.preventDefault(),j([].concat(Object(_n.a)(d),[{id:"item-".concat(t),name:"",date:"",event:"",character:""}])),o(!1)},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})]})]})]})]}),Object(D.jsxs)(ja.a,{sx:{pb:7},children:[Object(D.jsx)(pt.a,{}),Object(D.jsx)(dt.a,{sx:{position:"fixed",bottom:55,left:0,right:0},elevation:3,children:Object(D.jsxs)(mt.a,{value:w,onChange:function(e,t){k(t)},showLabels:!0,children:[Object(D.jsx)(xt.a,{label:"\u0e40\u0e23\u0e35\u0e22\u0e01\u0e14\u0e39\u0e44\u0e17\u0e21\u0e4c\u0e44\u0e25\u0e19\u0e4c\u0e2d\u0e37\u0e48\u0e19",value:"/addtimeline",icon:Object(D.jsx)(ba.a,{})}),Object(D.jsx)(xt.a,{label:"\u0e40\u0e23\u0e35\u0e22\u0e01\u0e14\u0e39\u0e41\u0e1c\u0e19\u0e1c\u0e31\u0e07",value:"/addmap",icon:Object(D.jsx)(ha.a,{})}),Object(D.jsx)(xt.a,{label:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01",value:"/saveicon",icon:Object(D.jsx)(Ve.a,{}),onClick:R})]})})]})]})}var ma=n(198);n(40).config(),Object(ma.polyfill)(),window.addEventListener("touchmove",(function(){}));var xa=new R.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URI}),fa=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});var ga=function(){return Object(D.jsx)(nt.a,{client:xa,children:Object(D.jsxs)(T.a,{theme:fa,children:[Object(D.jsx)(Ut,{}),Object(D.jsx)(pa,{}),Object(D.jsx)(wt,{})]})})},va=(n(415),n(615)),_a=n(627),ya=n(117),Sa=n.n(ya),Ca=n(620),Ia=n(331),Da=n.n(Ia),Ea=n(244),wa=n.n(Ea),ka=n(245),Ta=n.n(ka),Ra=n(332),$a=n.n(Ra),Pa=n(333),Wa=n.n(Pa),Fa=n(334),La=n.n(Fa),Aa=n(335),qa=n.n(Aa),Na=n(631),Ba=n(643),Ua=n(626),Ha=n(203),Ka=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});function Va(){var e=c.a.useState(""),t=Object(a.a)(e,2),n=t[0],i=t[1],o=window.location.pathname,s=c.a.useState(o),l=Object(a.a)(s,2),d=l[0],j=l[1],u=Object(r.useState)([]),b=Object(a.a)(u,2),O=b[0],h=b[1],m=Object(r.useState)([]),x=Object(a.a)(m,2),f=x[0],g=x[1],v=Object(r.useState)([]),_=Object(a.a)(v,2),y=_[0],S=_[1],C=Object(r.useState)([]),I=Object(a.a)(C,2),E=I[0],w=I[1],k=Object(r.useState)([]),R=Object(a.a)(k,2),$=R[0],P=R[1],W=Object(r.useState)(!1),A=Object(a.a)(W,2),q=A[0],N=A[1],B=Object(r.useState)(!1),U=Object(a.a)(B,2),H=U[0],M=U[1],Q=Object(r.useState)(!1),J=Object(a.a)(Q,2),Y=J[0],X=J[1],Z=Object(r.useState)(!1),ee=Object(a.a)(Z,2),te=ee[0],ne=ee[1],ae=function(){N(!1),M(!1),X(!1),ne(!1)},re=Object(r.useState)("#D05454"),ce=Object(a.a)(re,2),ie=ce[0],oe=ce[1],se=Object(r.useState)("#D05454"),le=Object(a.a)(se,2),de=le[0],je=le[1],ue=function(e){var t=e.text,n=e.bgColor;return Object(D.jsx)(Sa.a,{children:Object(D.jsxs)(va.a,{style:{width:"0px",backgroundColor:n,color:"#ffffff"},children:[Object(D.jsx)(_a.a,{variant:"text",children:"BUY"}),Object(D.jsx)(Be.a,{variant:"h6",children:t})]})})},be=function(e){var t=e.text,n=e.bgColor;return Object(D.jsx)(Sa.a,{children:Object(D.jsx)(va.a,{style:{width:"150px",height:"65px",backgroundColor:n,color:"#ffffff"},children:Object(D.jsxs)(_a.a,{label:"\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",color:"primary","aria-label":"add",style:{width:"100px",height:"65px",backgroundColor:n,color:"#ffffff"},children:[Object(D.jsx)(Da.a,{}),Object(D.jsx)(Be.a,{variant:"h6",children:t})]})})})},Oe=function(e){e.text;var t=e.bgColor;return Object(D.jsx)(Sa.a,{children:Object(D.jsx)(va.a,{style:{width:"200px",backgroundColor:t,color:"#ffffff"},children:Object(D.jsx)(ct.a,{id:"textsquare",variant:"outlined",multiline:!0,rows:5})})})},he=function(e){e.text;var t=e.bgColor;return Object(D.jsx)(Sa.a,{children:Object(D.jsx)(va.a,{style:{width:"65px",height:"65px",backgroundColor:"#F75BCA",color:"#ffffff"},children:Object(D.jsx)(_a.a,{color:"primary","aria-label":"add",style:{width:"65px",height:"65px",backgroundColor:t,color:"#ffffff"},children:Object(D.jsx)(wa.a,{})})})})},pe=function(e){e.text;var t=e.bgColor;return Object(D.jsx)(Sa.a,{children:Object(D.jsx)(va.a,{style:{width:"65px",height:"65px",backgroundColor:"#1F1F1F",color:"#ffffff"},children:Object(D.jsx)(_a.a,{color:"primary","aria-label":"add",style:{width:"65px",height:"65px",backgroundColor:t,color:"#ffffff"},children:Object(D.jsx)(Ta.a,{})})})})},me=function(e){e.text;var t=e.bgColor;return Object(D.jsx)(Sa.a,{children:Object(D.jsx)(Ca.a,{style:{width:"200px",backgroundColor:t,color:"#ffffff"},children:Object(D.jsx)(ct.a,{id:"textsquare",label:"\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21..",variant:"outlined",multiline:!0,maxRows:5})})})},fe=xe(),ge=Object(r.useState)(""),ve=Object(a.a)(ge,2),_e=ve[0],ye=ve[1],Se=Object(r.useState)(""),Ce=Object(a.a)(Se,2),Ie=Ce[0],De=Ce[1],Ee=function(){var e=Object(L.a)(F.a.mark((function e(t){var n,a,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=localStorage.getItem("projectId"),a={projectId:n,name:_e,characters:Ie},e.next=5,fe.request(Ne,a);case 5:(r=e.sent)?console.log(r):console.log("error creating map");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)(T.a,{theme:Ka,children:[Object(D.jsx)(Ut,{}),Object(D.jsxs)(Ca.a,{sx:{"& .MuiTextField-root":{m:1}},children:[Object(D.jsx)(ct.a,{id:"outlined-uncontrolled",label:"\u0e0a\u0e37\u0e48\u0e2d\u0e41\u0e1c\u0e19\u0e1c\u0e31\u0e07",multiline:!1,variant:"standard",fullWidth:!0,sx:{mt:1},onChange:function(e){return ye(e.target.value)}}),Object(D.jsx)(ct.a,{id:"outlined-uncontrolled",label:"\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",multiline:!1,variant:"standard",fullWidth:!0,sx:{mt:1},onChange:function(e){return De(e.target.value)}})]}),Object(D.jsxs)(K.a,{open:Y,onClose:ae,children:[Object(D.jsx)(G.a,{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23"}),Object(D.jsxs)(Ba.a,{fullWidth:!0,children:[Object(D.jsx)(Na.a,{id:"demo-simple-select-label",children:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e0a\u0e37\u0e48\u0e2d\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23"}),Object(D.jsxs)(Ua.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,label:"CharacterName",onChange:function(e){i(e.target.value)},children:[Object(D.jsx)(p.a,{value:"\u0e0b\u0e32\u0e23\u0e48\u0e32",children:"\u0e0b\u0e32\u0e23\u0e48\u0e32"}),Object(D.jsx)(p.a,{value:"\u0e1b\u0e35\u0e40\u0e15\u0e2d\u0e23\u0e4c",children:"\u0e1b\u0e35\u0e40\u0e15\u0e2d\u0e23\u0e4c"}),Object(D.jsx)(p.a,{value:"\u0e40\u0e14\u0e27\u0e34\u0e14",children:"\u0e40\u0e14\u0e27\u0e34\u0e14"})]})]}),Object(D.jsx)(V.a,{children:Object(D.jsx)(Ha.a,{color:ie,onChange:function(e){oe(e.hex)}})}),Object(D.jsxs)(z.a,{children:[Object(D.jsx)(_a.a,{onClick:ae,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),Object(D.jsx)(_a.a,{onClick:function(e){g(f.concat(Object(D.jsx)(be,{bgColor:ie,text:n},f.length))),X(!1)},children:"\u0e2a\u0e23\u0e49\u0e32\u0e07"})]})]}),Object(D.jsxs)(K.a,{open:te,onClose:ae,children:[Object(D.jsx)(G.a,{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e04\u0e27\u0e32\u0e21\u0e2a\u0e31\u0e21\u0e1e\u0e31\u0e19\u0e18\u0e4c"}),Object(D.jsxs)(V.a,{children:[Object(D.jsx)(_a.a,{startIcon:Object(D.jsx)(wa.a,{}),onClick:function(e){S(y.concat(Object(D.jsx)(he,{},y.length))),ne(!1)},children:"\u0e23\u0e31\u0e01"}),Object(D.jsx)(_a.a,{startIcon:Object(D.jsx)(Ta.a,{}),onClick:function(e){w(E.concat(Object(D.jsx)(pe,{},E.length))),ne(!1)},children:"\u0e40\u0e01\u0e25\u0e35\u0e22\u0e14"})]}),Object(D.jsx)(z.a,{children:Object(D.jsx)(_a.a,{onClick:ae,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})})]}),Object(D.jsxs)(K.a,{open:H,onClose:ae,children:[Object(D.jsx)(G.a,{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e01\u0e25\u0e48\u0e2d\u0e07\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e2a\u0e35"}),Object(D.jsx)(V.a,{children:Object(D.jsx)(Ha.a,{color:de,onChange:function(e){je(e.hex)}})}),Object(D.jsxs)(z.a,{children:[Object(D.jsx)(_a.a,{onClick:ae,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),Object(D.jsx)(_a.a,{onClick:function(e){h(O.concat(Object(D.jsx)(Oe,{bgColor:de},O.length))),M(!1)},children:"\u0e2a\u0e23\u0e49\u0e32\u0e07"})]})]}),Object(D.jsxs)(K.a,{open:q,onClose:ae,children:[Object(D.jsx)(G.a,{children:"\u0e2a\u0e35"}),Object(D.jsx)(V.a,{children:Object(D.jsx)(Ha.a,{color:ie,onChange:function(e){oe(e.hex)}})}),Object(D.jsxs)(z.a,{children:[Object(D.jsx)(_a.a,{onClick:ae,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),Object(D.jsx)(_a.a,{onClick:ae,children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})]})]}),Object(D.jsx)(ue,{}),O,f,y,$,E,Object(D.jsxs)(Ca.a,{sx:{pb:7},children:[Object(D.jsx)(pt.a,{}),Object(D.jsx)(dt.a,{sx:{position:"fixed",bottom:55,left:0,right:0},elevation:3,children:Object(D.jsxs)(mt.a,{value:d,onChange:function(e,t){j(t)},showLabels:!0,children:[Object(D.jsx)(xt.a,{onClick:function(){X(!0)},label:"\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",value:"/person",icon:Object(D.jsx)($a.a,{})}),Object(D.jsx)(xt.a,{onClick:function(){M(!0)},label:"\u0e2a\u0e35\u0e48\u0e40\u0e2b\u0e25\u0e35\u0e48\u0e22\u0e21",value:"/square",icon:Object(D.jsx)(Wa.a,{})}),Object(D.jsx)(xt.a,{onClick:function(){ne(!0)},label:"\u0e04\u0e27\u0e32\u0e21\u0e2a\u0e31\u0e21\u0e1e\u0e31\u0e19\u0e18\u0e4c",value:"/emotion",icon:Object(D.jsx)(La.a,{})}),Object(D.jsx)(xt.a,{onClick:function(e){P($.concat(Object(D.jsx)(me,{},$.length)))},label:"\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21",value:"/text",icon:Object(D.jsx)(qa.a,{})}),Object(D.jsx)(xt.a,{label:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01",value:"/saveicon",icon:Object(D.jsx)(Ve.a,{}),onClick:function(e){return Ee(e)}})]})})]}),Object(D.jsx)(wt,{})]})}var Ga=n(56),za=n(42),Ma=n(43),Qa=n(144),Ja=n(65),Ya=n(95),Xa=n(96),Za=n(97),er=n.n(Za),tr=(n(231),!!navigator.userAgent.match(/Trident/i)),nr=function(e){Object(Ya.a)(n,e);var t=Object(Xa.a)(n);function n(){var e;Object(za.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getMetaTagElements=function(e){var t=document.createElement("div");return t.innerHTML=e,t.getElementsByTagName("meta")},e}return Object(Ma.a)(n,[{key:"onPaste",value:function(){var e=Object(L.a)(F.a.mark((function e(t){var a,r,c,i=this;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.clipboardData||window.clipboardData,e.next=3,a.getData("Text");case 3:r=e.sent,(c=r.match(/\b(http|https)?:\/\/\S+/gi)||[]).length>0?(t.preventDefault(),c.forEach((function(e){rt.a.get(e).then((function(e){var t,n,a,r,c=Object(Ga.a)(i.getMetaTagElements(e));try{for(c.s();!(r=c.n()).done;){var o=r.value;"og:title"===o.getAttribute("property")&&(t=o.getAttribute("content")),"og:image"===o.getAttribute("property")&&(n=o.getAttribute("content")),"og:url"===o.getAttribute("property")&&(a=o.getAttribute("content"))}}catch(j){c.e(j)}finally{c.f()}var s="<a href=".concat(a,' target="_blank"><div><img src=').concat(n," alt=").concat(t,' width="20%"/><span>').concat(t,"</span></div></a>"),l=i.quill.getSelection(),d=l?l.index:0;i.quill.pasteHTML(d,s,"silent"),i.quill.setSelection(d+s.length)})).catch((function(e){return console.error(e)}))}))):Object(Qa.a)(Object(Ja.a)(n.prototype),"onPaste",this).call(this,t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Za.Quill.import("modules/clipboard"));Za.Quill.register("modules/clipboard",nr,!0);var ar=Za.Quill.import("blots/block/embed"),rr=function(e){Object(Ya.a)(n,e);var t=Object(Xa.a)(n);function n(){return Object(za.a)(this,n),t.apply(this,arguments)}return Object(Ma.a)(n,null,[{key:"create",value:function(e){var t=Object(Qa.a)(Object(Ja.a)(n),"create",this).call(this);return t.setAttribute("src",e.src),t.setAttribute("alt",e.alt),t.setAttribute("width","100%"),t}},{key:"value",value:function(e){return{src:e.getAttribute("src"),alt:e.getAttribute("alt")}}}]),n}(ar);rr.blotName="image",rr.tagName="img",Za.Quill.register(rr);var cr=function(e){Object(Ya.a)(n,e);var t=Object(Xa.a)(n);function n(){return Object(za.a)(this,n),t.apply(this,arguments)}return Object(Ma.a)(n,null,[{key:"create",value:function(e){if(e&&e.src){var t=Object(Qa.a)(Object(Ja.a)(n),"create",this).call(this);return t.setAttribute("src",e.src),t.setAttribute("title",e.title),t.setAttribute("width","100%"),t.setAttribute("controls",""),t}var a=document.createElement("iframe");return a.setAttribute("src",e),a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen",!0),a.setAttribute("width","100%"),a}},{key:"value",value:function(e){return e.getAttribute("title")?{src:e.getAttribute("src"),alt:e.getAttribute("title")}:e.getAttribute("src")}}]),n}(ar);cr.blotName="video",cr.tagName="video",Za.Quill.register(cr);var ir=function(e){Object(Ya.a)(n,e);var t=Object(Xa.a)(n);function n(){return Object(za.a)(this,n),t.apply(this,arguments)}return Object(Ma.a)(n,null,[{key:"create",value:function(e){var t=document.createElement("span");t.innerText="\ucca8\ubd80\ud30c\uc77c - ";var a=document.createElement("b");a.innerText=e;var r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("target","_blank"),r.setAttribute("className","file-link-inner-post"),r.appendChild(a);var c=Object(Qa.a)(Object(Ja.a)(n),"create",this).call(this);return c.appendChild(t),c.appendChild(r),c}},{key:"value",value:function(e){return e.querySelector("a").getAttribute("href")}}]),n}(ar);ir.blotName="file",ir.tagName="p",ir.className="file-inner-post",Za.Quill.register(ir);var or=function(e){Object(Ya.a)(n,e);var t=Object(Xa.a)(n);function n(){return Object(za.a)(this,n),t.apply(this,arguments)}return Object(Ma.a)(n,null,[{key:"create",value:function(e){var t=document.createElement("span");t.innerText="\ud22c\ud45c - ";var a=document.createElement("b");a.innerText=e.title;var r=Object(Qa.a)(Object(Ja.a)(n),"create",this).call(this);return r.setAttribute("id",e.id),r.appendChild(t),r.appendChild(a),r}},{key:"value",value:function(e){return{id:e.getAttribute("id"),title:e.querySelector("b").innerText}}}]),n}(ar);or.blotName="poll",or.tagName="p",or.className="poll-inner-post",Za.Quill.register(or);var sr=function(e){Object(Ya.a)(n,e);var t=Object(Xa.a)(n);function n(e){var a;return Object(za.a)(this,n),(a=t.call(this,e)).handleChange=function(e){console.log("html",e),a.setState({editorHtml:e},(function(){a.props.onEditorChange(a.state.editorHtml)}))},a.imageHandler=function(){a.inputOpenImageRef.current.click()},a.videoHandler=function(){a.inputOpenVideoRef.current.click()},a.fileHandler=function(){a.inputOpenFileRef.current.click()},a.insertImage=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0],n=new FormData;n.append("file",t),rt.a.post("/api/blog/uploadfiles",n,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(!e.data.success)return alert("failed to upload file");var n=a.reactQuillRef.getEditor();n.focus();var r=n.getSelection(),c=r?r.index:0;n.insertEmbed(c,"image",{src:"http://localhost:5000/"+e.data.url,alt:e.data.fileName}),n.setSelection(c+1),a._isMounted&&a.setState({files:[].concat(Object(_n.a)(a.state.files),[t])},(function(){a.props.onFilesChange(a.state.files)}))}))}},a.insertVideo=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0],n=new FormData;n.append("file",t),rt.a.post("/api/blog/uploadfiles",n,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(!e.data.success)return alert("failed to upload file");var n=a.reactQuillRef.getEditor();n.focus();var r=n.getSelection(),c=r?r.index:0;n.insertEmbed(c,"video",{src:"http://localhost:5000/"+e.data.url,title:e.data.fileName}),n.setSelection(c+1),a._isMounted&&a.setState({files:[].concat(Object(_n.a)(a.state.files),[t])},(function(){a.props.onFilesChange(a.state.files)}))}))}},a.insertFile=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0];console.log(t);var n=new FormData;n.append("file",t),rt.a.post("/api/blog/uploadfiles",n,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(e.data.success){var n=a.reactQuillRef.getEditor();n.focus();var r=n.getSelection(),c=r?r.index:0;n.insertEmbed(c,"file",e.data.fileName),n.setSelection(c+1),a._isMounted&&a.setState({files:[].concat(Object(_n.a)(a.state.files),[t])},(function(){a.props.onFilesChange(a.state.files)}))}}))}},a.modules={toolbar:{container:"#toolbar",handlers:{insertImage:a.imageHandler,insertVideo:a.videoHandler,insertFile:a.fileHandler,insertPoll:a.pollHandler}}},a.formats=["header","bold","italic","underline","strike","image","video","file","link","code-block","video","blockquote","clean"],a.state={editorHtml:tr?"<p>&nbsp;</p>":"",files:[]},a.reactQuillRef=null,a.inputOpenImageRef=c.a.createRef(),a.inputOpenVideoRef=c.a.createRef(),a.inputOpenFileRef=c.a.createRef(),a}return Object(Ma.a)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{id:"toolbar",children:[Object(D.jsxs)("select",{className:"ql-header",defaultValue:"",onChange:function(e){return e.persist()},children:[Object(D.jsx)("option",{value:"1"}),Object(D.jsx)("option",{value:"2"}),Object(D.jsx)("option",{value:""})]}),Object(D.jsx)("button",{className:"ql-bold"}),Object(D.jsx)("button",{className:"ql-italic"}),Object(D.jsx)("button",{className:"ql-underline"}),Object(D.jsx)("button",{className:"ql-strike"}),Object(D.jsx)("button",{className:"ql-blockquote"}),Object(D.jsx)("button",{className:"ql-clean"})]}),Object(D.jsx)(er.a,{ref:function(t){e.reactQuillRef=t},theme:"snow",onChange:this.handleChange,modules:this.modules,formats:this.formats,value:this.state.editorHtml,placeholder:this.props.placeholder}),Object(D.jsx)("input",{type:"file",accept:"image/*",ref:this.inputOpenImageRef,style:{display:"none"},onChange:this.insertImage}),Object(D.jsx)("input",{type:"file",accept:"video/*",ref:this.inputOpenVideoRef,style:{display:"none"},onChange:this.insertVideo}),Object(D.jsx)("input",{type:"file",accept:"*",ref:this.inputOpenFileRef,style:{display:"none"},onChange:this.insertFile})]})}}]),n}(c.a.Component);n(306);function lr(){var e=xe(),t=Object(r.useState)(""),n=Object(a.a)(t,2),c=n[0],i=n[1],o=Object(r.useState)(""),s=Object(a.a)(o,2),l=s[0],d=s[1],j=Object(r.useState)(""),u=Object(a.a)(j,2),b=u[0],O=u[1],h=Object(r.useState)(""),p=Object(a.a)(h,2),m=p[0],x=p[1],f=function(){var t=Object(L.a)(F.a.mark((function t(n){var a,r,i,o;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=localStorage.getItem("projectId"),r=parseInt(l),i={projectId:a,name:c,characters:b,order:r,content:m},t.next=6,e.request(Ae,i);case 6:(o=t.sent)?console.log(o):console.log("error creating chapter");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(D.jsxs)("div",{href:"node_modules/react-quill/dist/quill.snow.css",children:[Object(D.jsxs)(ja.a,{children:[Object(D.jsx)(ct.a,{id:"outlined-uncontrolled",label:"\u0e0a\u0e37\u0e48\u0e2d\u0e15\u0e2d\u0e19",multiline:!1,variant:"standard",fullWidth:!0,sx:{mt:1},onChange:function(e){return i(e.target.value)}}),Object(D.jsx)(ct.a,{id:"outlined-uncontrolled",label:"\u0e25\u0e33\u0e14\u0e31\u0e1a\u0e02\u0e2d\u0e07\u0e15\u0e2d\u0e19",multiline:!1,variant:"standard",fullWidth:!0,sx:{mt:1},onChange:function(e){return d(e.target.value)}}),Object(D.jsx)(ct.a,{id:"outlined-uncontrolled",label:"\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",multiline:!1,variant:"standard",fullWidth:!0,sx:{mt:1},onChange:function(e){return O(e.target.value)}})]}),Object(D.jsx)(sr,{placeholder:"write your story",onEditorChange:function(e){x(e),console.log(m)}}),Object(D.jsx)(A.a,{item:!0,xs:12,align:"center",sx:{p:4},children:Object(D.jsxs)(Ye.a,{variant:"extended",size:"small",color:"primary","aria-label":"add",align:"center",onClick:function(e){return f(e)},children:["\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02",Object(D.jsx)(un.a,{})]})})]})}n(40).config();var dr=new R.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URI}),jr=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});var ur=function(){return Object(D.jsx)(nt.a,{client:dr,children:Object(D.jsxs)(T.a,{theme:jr,children:[Object(D.jsx)(Ut,{}),Object(D.jsx)(lr,{}),Object(D.jsx)(wt,{})]})})};function br(){var e=Object(d.h)(),t=Object(r.useContext)(S).state.currentProject,n=xe(),c=Object(r.useState)(),i=Object(a.a)(c,2),o=i[0],s=i[1],l=Object(r.useState)(0),j=Object(a.a)(l,2),u=j[0],b=j[1],O=Object(r.useState)(),h=Object(a.a)(O,2),p=h[0],m=h[1],x=Object(r.useState)(),f=Object(a.a)(x,2),g=f[0],v=f[1],_=Object(r.useState)({isOpen:!1,title:"",subTitle:""}),y=Object(a.a)(_,2),C=y[0],I=y[1],E=function(){var e=Object(L.a)(F.a.mark((function e(){var t,a,r,c,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("chapterId"),a=localStorage.getItem("projectId"),r={_id:a},e.next=5,n.request(ye,r);case 5:return c=e.sent,e.next=8,c.selectedProject.chapters.find((function(e){return e._id===t}));case 8:(i=e.sent)&&(console.log(i),s(i.name),b(i.order),m(i.characters),v(i.content));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var a=Object(L.a)(F.a.mark((function a(r){var c,i,o,s;return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),I(Object(P.a)(Object(P.a)({},C),{},{isOpen:!1})),c=localStorage.getItem("chapterId"),i=t._id,o={chapterId:c,projectId:i},a.next=7,n.request(qe,o);case 7:(s=a.sent)?(console.log(s),e("/mystory")):console.log("error deleting timeline");case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(r.useEffect)((function(){E()}),[]),Object(D.jsxs)("div",{href:"node_modules/react-quill/dist/quill.snow.css",children:[Object(D.jsxs)(ja.a,{children:[Object(D.jsx)(ct.a,{id:"outlined-uncontrolled",label:"\u0e0a\u0e37\u0e48\u0e2d\u0e15\u0e2d\u0e19",multiline:!1,variant:"standard",fullWidth:!0,sx:{mt:1},value:o||""}),Object(D.jsx)(ct.a,{id:"outlined-uncontrolled",label:"\u0e25\u0e33\u0e14\u0e31\u0e1a\u0e02\u0e2d\u0e07\u0e15\u0e2d\u0e19",multiline:!1,variant:"standard",fullWidth:!0,sx:{mt:1},value:u||""}),Object(D.jsx)(ct.a,{id:"outlined-uncontrolled",label:"\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",multiline:!1,variant:"standard",fullWidth:!0,sx:{mt:1},value:p||""})]}),Object(D.jsx)(ja.a,{children:Object(D.jsx)("div",{dangerouslySetInnerHTML:{__html:g}})}),Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(kn.a,{}),onClick:function(){I({isOpen:!0,title:"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e15\u0e2d\u0e19\u0e19\u0e35\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48",subTitle:"",onConfirm:function(e){w(e)}})},children:"\u0e25\u0e1a\u0e15\u0e2d\u0e19"}),Object(D.jsx)(He,{confirmDialog:C,setConfirmDialog:I})]})}var Or=new R.a({uri:"http://localhost:4000/graphql"}),hr=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});var pr=function(){return Object(D.jsx)(nt.a,{client:Or,children:Object(D.jsxs)(T.a,{theme:hr,children:[Object(D.jsx)(Ut,{}),Object(D.jsx)(br,{}),Object(D.jsx)(wt,{})]})})};function mr(){var e=c.a.useState(!1),t=Object(a.a)(e,2),n=t[0],i=t[1],o=xe(),s=Object(d.h)(),l=Object(r.useContext)(S).state.currentProject,j=Object(r.useState)([{id:"item-0",content:"content 1"},{id:"item-1",content:"content 2"},{id:"item-2",content:"content 3"}]),u=Object(a.a)(j,2),b=u[0],O=u[1],h=Object(r.useState)(""),p=Object(a.a)(h,2),m=p[0],x=p[1],f=Object(r.useState)(""),g=Object(a.a)(f,2),v=g[0],_=g[1],y=Object(r.useState)([]),C=Object(a.a)(y,2),I=C[0],E=C[1],w=Object(r.useState)(""),k=Object(a.a)(w,2),T=k[0],R=k[1],$=(new Date).toISOString().slice(0,10),W=Object(r.useState)($),A=Object(a.a)(W,2),q=A[0],N=A[1],B=Object(r.useState)(""),H=Object(a.a)(B,2),K=H[0],V=H[1],G=Object(r.useState)(""),M=Object(a.a)(G,2),Q=M[0],J=M[1],Y=Object(r.useState)(!1),X=Object(a.a)(Y,2),Z=X[0],ee=X[1],te=Object(r.useState)({isOpen:!1,title:"",subTitle:""}),ne=Object(a.a)(te,2),ae=ne[0],re=ne[1],ce=function(){var e=Object(L.a)(F.a.mark((function e(t){var n,a,r,c,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("projectId"),a={_id:n},e.next=4,o.request(ye,a);case 4:return r=e.sent,c=localStorage.getItem("timelineId"),console.log(c),e.next=9,r.selectedProject.timelines.find((function(e){return e._id===c}));case 9:i=e.sent,console.log(i),console.log(i.box),i&&(O(i.box),x(i.name),_(i.characters),E(i.box));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){i(!1)},oe=window.location.pathname,se=c.a.useState(oe),le=Object(a.a)(se,2),de=le[0],je=le[1],ue=function(){var e=Object(L.a)(F.a.mark((function e(t){var n,a,r,c,s,l,d;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),ee(!0),n=b.length,a="item-".concat(n),O([].concat(Object(_n.a)(b),[{id:"item-".concat(n),content:"a"}])),r=localStorage.getItem("projectId"),c=localStorage.getItem("timelineId"),s={projectId:r,timelineId:c,name:T,id:a,date:q,event:K,character:Q},e.next=10,o.request($e,s);case 10:l=e.sent,d=l.createbox,console.log(d),i(!1),ee(!1),!1===Z&&ce();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=[];return b.forEach((function(t){var n={id:"item-".concat(b.indexOf(t)),name:t.name,date:t.date,event:t.event,character:t.character};e.push(n)})),e},Oe=function(){var e=Object(L.a)(F.a.mark((function e(t){var n,a,r,c,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),ee(!0),n=localStorage.getItem("projectId"),a=localStorage.getItem("timelineId"),r=be(),console.log(r),c={projectId:n,timelineId:a,name:m,characters:v,box:r},e.next=9,o.request(Pe,c);case 9:i=e.sent,console.log(i),ee(!1),ce();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(L.a)(F.a.mark((function e(t){var n,a,r,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),re(Object(P.a)(Object(P.a)({},ae),{},{isOpen:!1})),n=localStorage.getItem("timelineId"),a=l._id,r={timelineId:n,projectId:a},e.next=7,o.request(We,r);case 7:(c=e.sent)?(console.log(c),s("/mytimeline")):console.log("error deleting timeline");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){ce()}),[]),Object(D.jsxs)("div",{children:[Object(D.jsxs)(ja.a,{children:[Object(D.jsx)(ct.a,{id:"outlined-uncontrolled",label:"\u0e0a\u0e37\u0e48\u0e2d\u0e44\u0e17\u0e21\u0e4c\u0e44\u0e25\u0e19\u0e4c",multiline:!1,variant:"standard",fullWidth:!0,sx:{mt:1},value:m||""}),Object(D.jsx)(ct.a,{id:"outlined-uncontrolled",label:"\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",multiline:!1,variant:"standard",fullWidth:!0,sx:{mt:1},value:v||""})]}),Object(D.jsxs)(ja.a,{display:"flex",justifyContent:"center",alignItems:"center",children:[Object(D.jsx)(da.a,{onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var r=Array.from(e),c=r.splice(t,1),i=Object(a.a)(c,1)[0];return r.splice(n,0,i),r}(b,e.source.index,e.destination.index);O(t)}},children:Object(D.jsx)(da.c,{droppableId:"droppable",children:function(e,t){return Object(D.jsxs)("div",Object(P.a)(Object(P.a)({},e.droppableProps),{},{ref:e.innerRef,style:(n=t.isDraggingOver,{background:n?"#483C32\t":"#877e78",padding:8,width:500}),children:[b.map((function(e,t){return Object(D.jsx)(da.b,{draggableId:e.id,index:t,children:function(t,n){return Object(D.jsxs)("div",Object(P.a)(Object(P.a)(Object(P.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(a=n.isDragging,r=t.draggableProps.style,Object(P.a)({userSelect:"none",padding:16,margin:"0 0 ".concat(8,"px 0"),background:a?"#D2B48C\t":"#f5ebe6"},r)),children:[Object(D.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"title",label:"\u0e0a\u0e37\u0e48\u0e2d\u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c",fullWidth:!0,variant:"standard",value:e.name||""}),Object(D.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"title",label:"\u0e40\u0e27\u0e25\u0e32(\u0e44\u0e21\u0e48\u0e1a\u0e31\u0e07\u0e04\u0e31\u0e1a)",fullWidth:!0,variant:"standard",value:e.date||""}),Object(D.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"title",label:"\u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c",fullWidth:!0,variant:"standard",value:e.event||""}),Object(D.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"title",label:"\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",fullWidth:!0,variant:"standard",value:e.character||""}),Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(un.a,{}),type:"submit",color:"success",onClick:function(t){return ue(t,I.indexOf(e))},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"}),Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(kn.a,{}),type:"submit",color:"error",children:"\u0e25\u0e1a"})]}));var a,r}},e.id)})),e.placeholder]}));var n}})}),Object(D.jsxs)(qt.a,{spacing:10,children:[Object(D.jsx)(Ye.a,{color:"primary",style:{alignSelf:"flex-end",position:"fixed",bottom:"15%",right:"10%"},"aria-label":"add",onClick:function(){i(!0)},sx:{},children:Object(D.jsx)(Je.a,{})}),Object(D.jsxs)(kt.a,{open:n,onClose:ie,children:[Object(D.jsx)(Tt.a,{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c"}),Object(D.jsxs)(Rt.a,{children:[Object(D.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"title",label:"\u0e0a\u0e37\u0e48\u0e2d\u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c",fullWidth:!0,variant:"standard",onChange:function(e){return R(e.target.value)}}),Object(D.jsx)(ct.a,{id:"datetime-local",sx:{mt:4},label:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e41\u0e25\u0e30\u0e40\u0e27\u0e25\u0e32(\u0e44\u0e21\u0e48\u0e1a\u0e31\u0e07\u0e04\u0e31\u0e1a)",type:"datetime-local",fullWidth:!0,defaultValue:"2017-05-24T10:30",InputLabelProps:{shrink:!0},onChange:function(e){return N(e.target.value)}}),Object(D.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"event",label:"\u0e40\u0e2b\u0e15\u0e38\u0e01\u0e32\u0e23\u0e13\u0e4c",fullWidth:!0,variant:"standard",onChange:function(e){return V(e.target.value)}}),Object(D.jsx)(ct.a,{autoFocus:!0,margin:"dense",id:"character",label:"\u0e41\u0e17\u0e47\u0e01\u0e15\u0e31\u0e27\u0e25\u0e30\u0e04\u0e23",fullWidth:!0,variant:"standard",onChange:function(e){return J(e.target.value)}})]}),Object(D.jsxs)(z.a,{children:[Object(D.jsx)(U.a,{onClick:ie,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),Object(D.jsx)(U.a,{onClick:function(e){return ue(e)},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})]})]})]})]}),Object(D.jsx)(U.a,{variant:"contained",endIcon:Object(D.jsx)(kn.a,{}),onClick:function(){re({isOpen:!0,title:"\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e44\u0e17\u0e21\u0e4c\u0e44\u0e25\u0e19\u0e4c\u0e19\u0e35\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48",subTitle:"",onConfirm:function(e){he(e)}})},children:"\u0e25\u0e1a\u0e44\u0e17\u0e21\u0e4c\u0e44\u0e25\u0e19\u0e4c"}),Object(D.jsxs)(ja.a,{sx:{pb:7},children:[Object(D.jsx)(pt.a,{}),Object(D.jsx)(dt.a,{sx:{position:"fixed",bottom:55,left:0,right:0},elevation:3,children:Object(D.jsxs)(mt.a,{value:de,onChange:function(e){je(e)},showLabels:!0,children:[Object(D.jsx)(xt.a,{label:"\u0e40\u0e23\u0e35\u0e22\u0e01\u0e14\u0e39\u0e44\u0e17\u0e21\u0e4c\u0e44\u0e25\u0e19\u0e4c\u0e2d\u0e37\u0e48\u0e19",value:"/addtimeline",icon:Object(D.jsx)(ba.a,{})}),Object(D.jsx)(xt.a,{label:"\u0e40\u0e23\u0e35\u0e22\u0e01\u0e14\u0e39\u0e41\u0e1c\u0e19\u0e1c\u0e31\u0e07",value:"/addmap",icon:Object(D.jsx)(ha.a,{})}),Object(D.jsx)(xt.a,{label:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01",value:"/saveicon",icon:Object(D.jsx)(Ve.a,{}),onClick:function(e){return Oe(e)}})]})})]}),Object(D.jsx)(He,{confirmDialog:ae,setConfirmDialog:re})]})}n(40).config(),Object(ma.polyfill)(),window.addEventListener("touchmove",(function(){}));var xr=new R.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URI}),fr=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}});var gr=function(){return Object(D.jsx)(nt.a,{client:xr,children:Object(D.jsxs)(T.a,{theme:fr,children:[Object(D.jsx)(Ut,{}),Object(D.jsx)(mr,{}),Object(D.jsx)(wt,{})]})})},vr=n(616),_r=n(639),yr=n(646),Sr=n(336),Cr=n.n(Sr);n(40).config();var Ir=Object(k.a)({palette:{primary:{main:"#967969"},secondary:{main:"#F2D2BD"}}}),Dr=new R.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URI});function Er(){var e=xe(),t=Object(d.h)(),n=Object(r.useContext)(S).state.currentUser,c=Object(r.useState)([]),i=Object(a.a)(c,2),o=i[0],s=i[1],l=function(){var t=Object(L.a)(F.a.mark((function t(){var a,r,c,i,o;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n._id,r={creator:a,version:!0},t.next=4,e.request(_e,r);case 4:c=t.sent,i=localStorage.getItem("projectId"),console.log(c.Projects),(o=c.Projects.filter((function(e){return e.old_id===i&&0!==e.version})))?(console.log(o),s(o)):console.log("can't find project versions");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Object(L.a)(F.a.mark((function t(n,a){var r,c,i;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=localStorage.getItem("projectId"),c={projectId:r,newId:a},t.next=6,e.request(Le,c);case 6:(i=t.sent)?console.log(i):console.log("set project error");case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),b=function(){var e=Object(L.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t("/myproject"),localStorage.setItem("projectId",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){l()}),[]),Object(D.jsxs)(nt.a,{client:Dr,children:[Object(D.jsx)(E,{}),Object(D.jsxs)(T.a,{theme:Ir,children:[Object(D.jsx)(j.a,{sx:{bgcolor:"background.paper",pt:8,pb:6},children:Object(D.jsx)(w.a,{maxWidth:"sm",children:Object(D.jsx)(h.a,{variant:"h3",align:"center",color:"text.primary",children:"\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02"})})}),Object(D.jsxs)(vr.a,{children:[" ",Object(D.jsx)(Cr.a,{})]}),Object(D.jsx)(j.a,{sx:{bgcolor:"background.paper",pt:8,pb:6},children:Object(D.jsx)(A.a,{item:!0,xs:12,align:"center",children:Object(D.jsx)(_r.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper",position:"relative",overflow:"auto",maxHeight:300,"& ul":{padding:0}},subheader:Object(D.jsx)("li",{}),children:o.map((function(e){var t=e.last_edited,n=t.slice(8,10),a=t.slice(4,7),r=t.slice(16,21),c=a.toLowerCase(),i=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].indexOf(c)+1,o=n+"/"+(i<10?"0"+i:i)+"/"+t.slice(11,15);return Object(D.jsxs)("li",{children:[Object(D.jsxs)(yr.a,{onClick:function(){return b(e._id)},children:["\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e40\u0e21\u0e37\u0e48\u0e2d : ",o," \u0e40\u0e27\u0e25\u0e32 : ",r," \u0e19."]},e._id),Object(D.jsxs)(Ye.a,{variant:"extended",size:"small",color:"primary","aria-label":"add",onClick:function(t){return u(t,e._id)},children:["\u0e01\u0e25\u0e31\u0e1a\u0e44\u0e1b\u0e43\u0e0a\u0e49\u0e40\u0e27\u0e2d\u0e23\u0e4c\u0e0a\u0e31\u0e48\u0e19\u0e19\u0e35\u0e49",Object(D.jsx)(un.a,{})]})]},e._id)}))})})})]})]})}function wr(e,t){var n=t.type,a=t.payload;switch(n){case"LOGIN_USER":return Object(P.a)(Object(P.a)({},e),{},{currentUser:a});case"IS_LOGGED_IN":return Object(P.a)(Object(P.a)({},e),{},{isAuth:a});case"LOGOUT_USER":return Object(P.a)(Object(P.a)({},e),{},{isAuth:!1,currentUser:null});case"GET_USER_PROJECTS":return Object(P.a)(Object(P.a)({},e),{},{userProjects:a});case"SELECT_PROJECT":return Object(P.a)(Object(P.a)({},e),{},{currentProject:a});case"CREATE_PROJECT":var r=a,c=e.userProjects,i=Object.values(c).filter((function(e){return e._id!==r._id}));return Object(P.a)(Object(P.a)({},e),{},{userProjects:[].concat(Object(_n.a)(i),[r])});default:return e}}var kr=function(){return Object(r.useContext)(S).state.isAuth?Object(D.jsx)(d.b,{}):Object(D.jsx)(d.a,{to:"/"})},Tr=function(){var e=Object(r.useContext)(S),t=Object(r.useReducer)(wr,e),n=Object(a.a)(t,2),c=n[0],i=n[1];return console.log({state:c}),Object(D.jsx)(l.a,{children:Object(D.jsx)(S.Provider,{value:{state:c,dispatch:i},children:Object(D.jsxs)(d.e,{children:[Object(D.jsx)(d.c,{path:"/",element:Object(D.jsx)(la,{})}),Object(D.jsxs)(d.c,{element:Object(D.jsx)(kr,{}),children:[Object(D.jsx)(d.c,{path:"/main-project",element:Object(D.jsx)(tt,{})}),Object(D.jsx)(d.c,{path:"/create-project",element:Object(D.jsx)(ht,{})}),Object(D.jsx)(d.c,{path:"/myproject",element:Object(D.jsx)(pn,{})}),Object(D.jsx)(d.c,{path:"/mycharacter",element:Object(D.jsx)(vn,{})}),Object(D.jsx)(d.c,{path:"/editcharacter",element:Object(D.jsx)(En,{})}),Object(D.jsx)(d.c,{path:"/characterdetails",element:Object(D.jsx)(Pn,{})}),Object(D.jsx)(d.c,{path:"/mymap",element:Object(D.jsx)(Hn,{})}),Object(D.jsx)(d.c,{path:"/mystory",element:Object(D.jsx)(Jn,{})}),Object(D.jsx)(d.c,{path:"/mytimeline",element:Object(D.jsx)(aa,{})}),Object(D.jsx)(d.c,{path:"/edittimeline",element:Object(D.jsx)(ga,{})}),Object(D.jsx)(d.c,{path:"/timelinedetails",element:Object(D.jsx)(gr,{})}),Object(D.jsx)(d.c,{path:"/editmap",element:Object(D.jsx)(Va,{})}),Object(D.jsx)(d.c,{path:"/editstory",element:Object(D.jsx)(ur,{})}),Object(D.jsx)(d.c,{path:"/chapterdetail",element:Object(D.jsx)(pr,{})}),Object(D.jsx)(d.c,{path:"/versionmenu",element:Object(D.jsx)(Er,{})})]})]})})})};o.a.render(Object(D.jsx)(Tr,{}),document.getElementById("root")),s()},81:function(e){e.exports=JSON.parse('{"GOOGLE_CLIENT_ID":"919378640442-nj0u0emamj45e927nkgkgl2qqf9c78kg.apps.googleusercontent.com","CLOUDINARY_URL":"https://api.cloudinary.com/v1_1/myimagevideocloud/image/upload"}')}},[[542,1,2]]]);
//# sourceMappingURL=main.5ee38ebd.chunk.js.map